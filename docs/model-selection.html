<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>R for Loss Data Analytics</title>
  <meta name="description" content="This is a minimal example of using the bookdown package to write a book. The output format for this example is bookdown::gitbook.">
  <meta name="generator" content="bookdown 0.7 and GitBook 2.6.7">

  <meta property="og:title" content="R for Loss Data Analytics" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is a minimal example of using the bookdown package to write a book. The output format for this example is bookdown::gitbook." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="R for Loss Data Analytics" />
  
  <meta name="twitter:description" content="This is a minimal example of using the bookdown package to write a book. The output format for this example is bookdown::gitbook." />
  

<meta name="author" content="An open text authored by the Actuarial Community">


<meta name="date" content="2018-05-24">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="modeling-loss-severities.html">
<link rel="next" href="simulation.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />








<script>
/* ========================================================================
 * Bootstrap: transition.js v3.3.7
 * http://getbootstrap.com/javascript/#transitions
 * ========================================================================
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */


+function ($) {
  'use strict';

  // CSS TRANSITION SUPPORT (Shoutout: http://www.modernizr.com/)
  // ============================================================

  function transitionEnd() {
    var el = document.createElement('bootstrap')

    var transEndEventNames = {
      WebkitTransition : 'webkitTransitionEnd',
      MozTransition    : 'transitionend',
      OTransition      : 'oTransitionEnd otransitionend',
      transition       : 'transitionend'
    }

    for (var name in transEndEventNames) {
      if (el.style[name] !== undefined) {
        return { end: transEndEventNames[name] }
      }
    }

    return false // explicit for ie8 (  ._.)
  }

  // http://blog.alexmaccaw.com/css-transitions
  $.fn.emulateTransitionEnd = function (duration) {
    var called = false
    var $el = this
    $(this).one('bsTransitionEnd', function () { called = true })
    var callback = function () { if (!called) $($el).trigger($.support.transition.end) }
    setTimeout(callback, duration)
    return this
  }

  $(function () {
    $.support.transition = transitionEnd()

    if (!$.support.transition) return

    $.event.special.bsTransitionEnd = {
      bindType: $.support.transition.end,
      delegateType: $.support.transition.end,
      handle: function (e) {
        if ($(e.target).is(this)) return e.handleObj.handler.apply(this, arguments)
      }
    }
  })

}(jQuery);
</script>
<script>
/* ========================================================================
 * Bootstrap: collapse.js v3.3.7
 * http://getbootstrap.com/javascript/#collapse
 * ========================================================================
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */

/* jshint latedef: false */

+function ($) {
  'use strict';

  // COLLAPSE PUBLIC CLASS DEFINITION
  // ================================

  var Collapse = function (element, options) {
    this.$element      = $(element)
    this.options       = $.extend({}, Collapse.DEFAULTS, options)
    this.$trigger      = $('[data-toggle="collapse"][href="#' + element.id + '"],' +
                           '[data-toggle="collapse"][data-target="#' + element.id + '"]')
    this.transitioning = null

    if (this.options.parent) {
      this.$parent = this.getParent()
    } else {
      this.addAriaAndCollapsedClass(this.$element, this.$trigger)
    }

    if (this.options.toggle) this.toggle()
  }

  Collapse.VERSION  = '3.3.7'

  Collapse.TRANSITION_DURATION = 350

  Collapse.DEFAULTS = {
    toggle: true
  }

  Collapse.prototype.dimension = function () {
    var hasWidth = this.$element.hasClass('width')
    return hasWidth ? 'width' : 'height'
  }

  Collapse.prototype.show = function () {
    if (this.transitioning || this.$element.hasClass('in')) return

    var activesData
    var actives = this.$parent && this.$parent.children('.panel').children('.in, .collapsing')

    if (actives && actives.length) {
      activesData = actives.data('bs.collapse')
      if (activesData && activesData.transitioning) return
    }

    var startEvent = $.Event('show.bs.collapse')
    this.$element.trigger(startEvent)
    if (startEvent.isDefaultPrevented()) return

    if (actives && actives.length) {
      Plugin.call(actives, 'hide')
      activesData || actives.data('bs.collapse', null)
    }

    var dimension = this.dimension()

    this.$element
      .removeClass('collapse')
      .addClass('collapsing')[dimension](0)
      .attr('aria-expanded', true)

    this.$trigger
      .removeClass('collapsed')
      .attr('aria-expanded', true)

    this.transitioning = 1

    var complete = function () {
      this.$element
        .removeClass('collapsing')
        .addClass('collapse in')[dimension]('')
      this.transitioning = 0
      this.$element
        .trigger('shown.bs.collapse')
    }

    if (!$.support.transition) return complete.call(this)

    var scrollSize = $.camelCase(['scroll', dimension].join('-'))

    this.$element
      .one('bsTransitionEnd', $.proxy(complete, this))
      .emulateTransitionEnd(Collapse.TRANSITION_DURATION)[dimension](this.$element[0][scrollSize])
  }

  Collapse.prototype.hide = function () {
    if (this.transitioning || !this.$element.hasClass('in')) return

    var startEvent = $.Event('hide.bs.collapse')
    this.$element.trigger(startEvent)
    if (startEvent.isDefaultPrevented()) return

    var dimension = this.dimension()

    this.$element[dimension](this.$element[dimension]())[0].offsetHeight

    this.$element
      .addClass('collapsing')
      .removeClass('collapse in')
      .attr('aria-expanded', false)

    this.$trigger
      .addClass('collapsed')
      .attr('aria-expanded', false)

    this.transitioning = 1

    var complete = function () {
      this.transitioning = 0
      this.$element
        .removeClass('collapsing')
        .addClass('collapse')
        .trigger('hidden.bs.collapse')
    }

    if (!$.support.transition) return complete.call(this)

    this.$element
      [dimension](0)
      .one('bsTransitionEnd', $.proxy(complete, this))
      .emulateTransitionEnd(Collapse.TRANSITION_DURATION)
  }

  Collapse.prototype.toggle = function () {
    this[this.$element.hasClass('in') ? 'hide' : 'show']()
  }

  Collapse.prototype.getParent = function () {
    return $(this.options.parent)
      .find('[data-toggle="collapse"][data-parent="' + this.options.parent + '"]')
      .each($.proxy(function (i, element) {
        var $element = $(element)
        this.addAriaAndCollapsedClass(getTargetFromTrigger($element), $element)
      }, this))
      .end()
  }

  Collapse.prototype.addAriaAndCollapsedClass = function ($element, $trigger) {
    var isOpen = $element.hasClass('in')

    $element.attr('aria-expanded', isOpen)
    $trigger
      .toggleClass('collapsed', !isOpen)
      .attr('aria-expanded', isOpen)
  }

  function getTargetFromTrigger($trigger) {
    var href
    var target = $trigger.attr('data-target')
      || (href = $trigger.attr('href')) && href.replace(/.*(?=#[^\s]+$)/, '') // strip for ie7

    return $(target)
  }


  // COLLAPSE PLUGIN DEFINITION
  // ==========================

  function Plugin(option) {
    return this.each(function () {
      var $this   = $(this)
      var data    = $this.data('bs.collapse')
      var options = $.extend({}, Collapse.DEFAULTS, $this.data(), typeof option == 'object' && option)

      if (!data && options.toggle && /show|hide/.test(option)) options.toggle = false
      if (!data) $this.data('bs.collapse', (data = new Collapse(this, options)))
      if (typeof option == 'string') data[option]()
    })
  }

  var old = $.fn.collapse

  $.fn.collapse             = Plugin
  $.fn.collapse.Constructor = Collapse


  // COLLAPSE NO CONFLICT
  // ====================

  $.fn.collapse.noConflict = function () {
    $.fn.collapse = old
    return this
  }


  // COLLAPSE DATA-API
  // =================

  $(document).on('click.bs.collapse.data-api', '[data-toggle="collapse"]', function (e) {
    var $this   = $(this)

    if (!$this.attr('data-target')) e.preventDefault()

    var $target = getTargetFromTrigger($this)
    var data    = $target.data('bs.collapse')
    var option  = data ? 'toggle' : $this.data()

    Plugin.call($target, option)
  })

}(jQuery);
</script>
<script>
window.initializeCodeFolding = function(show) {

  // handlers for show-all and hide all
  $("#rmd-show-all-code").click(function() {
    $('div.r-code-collapse').each(function() {
      $(this).collapse('show');
    });
  });
  $("#rmd-hide-all-code").click(function() {
    $('div.r-code-collapse').each(function() {
      $(this).collapse('hide');
    });
  });

  // index for unique code element ids
  var currentIndex = 1;

  // select all R code blocks
  var rCodeBlocks = $('pre.sourceCode, pre.r, pre.python, pre.bash, pre.sql, pre.cpp, pre.stan, pre.js');
  rCodeBlocks.each(function() {

    // create a collapsable div to wrap the code in
    var div = $('<div class="collapse r-code-collapse"></div>');
    if (show)
      div.addClass('in');
    var id = 'rcode-643E0F36' + currentIndex++;
    div.attr('id', id);
    $(this).before(div);
    $(this).detach().appendTo(div);

    // add a show code button right above
    var showCodeText = $('<span>' + (show ? 'Hide' : 'Code') + '</span>');
    var showCodeButton = $('<button type="button" class="btn btn-default btn-xs code-folding-btn pull-right"></button>');
    showCodeButton.append(showCodeText);
    showCodeButton
        .attr('data-toggle', 'collapse')
        .attr('data-target', '#' + id)
        .attr('aria-expanded', show)
        .attr('aria-controls', id);

    var buttonRow = $('<div class="row"></div>');
    var buttonCol = $('<div class="col-md-12"></div>');

    buttonCol.append(showCodeButton);
    buttonRow.append(buttonCol);

    div.before(buttonRow);

    // update state of button on show/hide
    div.on('hidden.bs.collapse', function () {
      showCodeText.text('Code');
    });
    div.on('show.bs.collapse', function () {
      showCodeText.text('Hide');
    });
  });

}
</script>
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
.row { display: flex; }
.collapse { display: none; }
.in { display:block }
</style>
<script>
$(document).ready(function () {
  window.initializeCodeFolding("show" === "hide");
});
</script>


<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">R for Loss Data Analytics</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="prerequisites.html"><a href="prerequisites.html"><i class="fa fa-check"></i><b>1</b> Prerequisites</a><ul>
<li class="chapter" data-level="1.1" data-path="prerequisites.html"><a href="prerequisites.html#basic-programming-tools"><i class="fa fa-check"></i><b>1.1</b> Basic Programming Tools</a></li>
<li class="chapter" data-level="1.2" data-path="prerequisites.html"><a href="prerequisites.html#further-programming-tools"><i class="fa fa-check"></i><b>1.2</b> Further Programming Tools</a></li>
<li class="chapter" data-level="1.3" data-path="prerequisites.html"><a href="prerequisites.html#r-markdown"><i class="fa fa-check"></i><b>1.3</b> R Markdown</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="introduction-to-loss-data-analytics.html"><a href="introduction-to-loss-data-analytics.html"><i class="fa fa-check"></i><b>2</b> Introduction to Loss Data Analytics</a><ul>
<li class="chapter" data-level="2.1" data-path="introduction-to-loss-data-analytics.html"><a href="introduction-to-loss-data-analytics.html#case-study-wisconsin-property-fund"><i class="fa fa-check"></i><b>2.1</b> Case Study: Wisconsin Property Fund</a><ul>
<li class="chapter" data-level="2.1.1" data-path="introduction-to-loss-data-analytics.html"><a href="introduction-to-loss-data-analytics.html#fund-claims-variables"><i class="fa fa-check"></i><b>2.1.1</b> Fund Claims Variables</a></li>
<li class="chapter" data-level="2.1.2" data-path="introduction-to-loss-data-analytics.html"><a href="introduction-to-loss-data-analytics.html#rating-variables"><i class="fa fa-check"></i><b>2.1.2</b> Rating Variables</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="frequency-distributions.html"><a href="frequency-distributions.html"><i class="fa fa-check"></i><b>3</b> Frequency Distributions</a><ul>
<li class="chapter" data-level="3.1" data-path="frequency-distributions.html"><a href="frequency-distributions.html#basic-distributions"><i class="fa fa-check"></i><b>3.1</b> Basic Distributions</a><ul>
<li class="chapter" data-level="3.1.1" data-path="frequency-distributions.html"><a href="frequency-distributions.html#poisson-distribution"><i class="fa fa-check"></i><b>3.1.1</b> Poisson Distribution</a></li>
<li class="chapter" data-level="3.1.2" data-path="frequency-distributions.html"><a href="frequency-distributions.html#negative-binomial-distribution"><i class="fa fa-check"></i><b>3.1.2</b> Negative Binomial Distribution</a></li>
<li class="chapter" data-level="3.1.3" data-path="frequency-distributions.html"><a href="frequency-distributions.html#binomial-distribution"><i class="fa fa-check"></i><b>3.1.3</b> Binomial Distribution</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="frequency-distributions.html"><a href="frequency-distributions.html#ab0-class-of-distributions"><i class="fa fa-check"></i><b>3.2</b> (<em>a</em>,<em>b</em>,0) Class of Distributions</a></li>
<li class="chapter" data-level="3.3" data-path="frequency-distributions.html"><a href="frequency-distributions.html#estimating-frequency-distributions"><i class="fa fa-check"></i><b>3.3</b> Estimating Frequency Distributions</a><ul>
<li class="chapter" data-level="3.3.1" data-path="frequency-distributions.html"><a href="frequency-distributions.html#singapore-data"><i class="fa fa-check"></i><b>3.3.1</b> Singapore Data</a></li>
<li class="chapter" data-level="3.3.2" data-path="frequency-distributions.html"><a href="frequency-distributions.html#claim-frequency-distribution-1"><i class="fa fa-check"></i><b>3.3.2</b> Claim Frequency Distribution</a></li>
<li class="chapter" data-level="3.3.3" data-path="frequency-distributions.html"><a href="frequency-distributions.html#visualize-the-loglikelihood-function"><i class="fa fa-check"></i><b>3.3.3</b> Visualize The Loglikelihood Function</a></li>
<li class="chapter" data-level="3.3.4" data-path="frequency-distributions.html"><a href="frequency-distributions.html#the-maximum-likelihood-estimate-of-poisson-distribution"><i class="fa fa-check"></i><b>3.3.4</b> The Maximum Likelihood Estimate of Poisson Distribution</a></li>
<li class="chapter" data-level="3.3.5" data-path="frequency-distributions.html"><a href="frequency-distributions.html#the-maximum-likelihood-estimate-of-the-negative-binomial-distribution"><i class="fa fa-check"></i><b>3.3.5</b> The Maximum Likelihood Estimate of The Negative Binomial Distribution</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="frequency-distributions.html"><a href="frequency-distributions.html#goodness-of-fit"><i class="fa fa-check"></i><b>3.4</b> Goodness of Fit</a><ul>
<li class="chapter" data-level="3.4.1" data-path="frequency-distributions.html"><a href="frequency-distributions.html#pearson-goodness-of-fit-statistic"><i class="fa fa-check"></i><b>3.4.1</b> Pearson Goodness-of-Fit Statistic</a></li>
<li class="chapter" data-level="3.4.2" data-path="frequency-distributions.html"><a href="frequency-distributions.html#negative-binomial-goodness-of-fit-statistic"><i class="fa fa-check"></i><b>3.4.2</b> Negative Binomial Goodness-of-Fit Statistic</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="frequency-distributions.html"><a href="frequency-distributions.html#singapore-data-1"><i class="fa fa-check"></i><b>3.5</b> Singapore Data</a></li>
<li class="chapter" data-level="3.6" data-path="frequency-distributions.html"><a href="frequency-distributions.html#goodness-of-fit-for-poisson-distribution"><i class="fa fa-check"></i><b>3.6</b> Goodness of Fit for Poisson Distribution</a><ul>
<li class="chapter" data-level="3.6.1" data-path="frequency-distributions.html"><a href="frequency-distributions.html#claim-frequency-distribution-2"><i class="fa fa-check"></i><b>3.6.1</b> Claim Frequency Distribution</a></li>
<li class="chapter" data-level="3.6.2" data-path="frequency-distributions.html"><a href="frequency-distributions.html#the-maximum-likelihood-estimate-of-lambda"><i class="fa fa-check"></i><b>3.6.2</b> The Maximum Likelihood Estimate of <span class="math inline">\(\lambda\)</span></a></li>
<li class="chapter" data-level="3.6.3" data-path="frequency-distributions.html"><a href="frequency-distributions.html#pearson-goodness-of-fit-statistic-1"><i class="fa fa-check"></i><b>3.6.3</b> Pearson Goodness-of-Fit Statistic</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="modeling-loss-severities.html"><a href="modeling-loss-severities.html"><i class="fa fa-check"></i><b>4</b> Modeling Loss Severities</a><ul>
<li class="chapter" data-level="4.1" data-path="modeling-loss-severities.html"><a href="modeling-loss-severities.html#required-packages"><i class="fa fa-check"></i><b>4.1</b> Required packages</a></li>
<li class="chapter" data-level="4.2" data-path="modeling-loss-severities.html"><a href="modeling-loss-severities.html#gamma-distribution"><i class="fa fa-check"></i><b>4.2</b> Gamma Distribution</a><ul>
<li class="chapter" data-level="4.2.1" data-path="modeling-loss-severities.html"><a href="modeling-loss-severities.html#varying-the-shape-parameter"><i class="fa fa-check"></i><b>4.2.1</b> Varying The Shape Parameter</a></li>
<li class="chapter" data-level="4.2.2" data-path="modeling-loss-severities.html"><a href="modeling-loss-severities.html#varying-the-scale-parameter"><i class="fa fa-check"></i><b>4.2.2</b> Varying The Scale Parameter</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="modeling-loss-severities.html"><a href="modeling-loss-severities.html#pareto-distribution"><i class="fa fa-check"></i><b>4.3</b> Pareto Distribution</a><ul>
<li class="chapter" data-level="4.3.1" data-path="modeling-loss-severities.html"><a href="modeling-loss-severities.html#varying-the-shape-parameter-1"><i class="fa fa-check"></i><b>4.3.1</b> Varying The Shape Parameter</a></li>
<li class="chapter" data-level="4.3.2" data-path="modeling-loss-severities.html"><a href="modeling-loss-severities.html#varying-the-scale-parameter-1"><i class="fa fa-check"></i><b>4.3.2</b> Varying The Scale Parameter</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="modeling-loss-severities.html"><a href="modeling-loss-severities.html#weibull-distribution"><i class="fa fa-check"></i><b>4.4</b> Weibull Distribution</a><ul>
<li class="chapter" data-level="4.4.1" data-path="modeling-loss-severities.html"><a href="modeling-loss-severities.html#varying-the-shape-parameter-2"><i class="fa fa-check"></i><b>4.4.1</b> Varying The Shape Parameter</a></li>
<li class="chapter" data-level="4.4.2" data-path="modeling-loss-severities.html"><a href="modeling-loss-severities.html#varying-the-scale-parameter-2"><i class="fa fa-check"></i><b>4.4.2</b> Varying The Scale Parameter</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="modeling-loss-severities.html"><a href="modeling-loss-severities.html#generalized-beta-distribution-of-the-second-kind-gb2"><i class="fa fa-check"></i><b>4.5</b> Generalized Beta Distribution of The Second Kind (GB2)</a><ul>
<li class="chapter" data-level="4.5.1" data-path="modeling-loss-severities.html"><a href="modeling-loss-severities.html#varying-the-scale-parameter-3"><i class="fa fa-check"></i><b>4.5.1</b> Varying The Scale Parameter</a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="modeling-loss-severities.html"><a href="modeling-loss-severities.html#methods-of-creating-new-distributions"><i class="fa fa-check"></i><b>4.6</b> Methods of Creating New Distributions</a><ul>
<li class="chapter" data-level="4.6.1" data-path="modeling-loss-severities.html"><a href="modeling-loss-severities.html#mixture-distributions"><i class="fa fa-check"></i><b>4.6.1</b> Mixture Distributions</a></li>
<li class="chapter" data-level="4.6.2" data-path="modeling-loss-severities.html"><a href="modeling-loss-severities.html#density-obtained-through-splicing"><i class="fa fa-check"></i><b>4.6.2</b> Density Obtained Through Splicing</a></li>
</ul></li>
<li class="chapter" data-level="4.7" data-path="modeling-loss-severities.html"><a href="modeling-loss-severities.html#coverage-modifications"><i class="fa fa-check"></i><b>4.7</b> Coverage Modifications</a><ul>
<li class="chapter" data-level="4.7.1" data-path="modeling-loss-severities.html"><a href="modeling-loss-severities.html#load-required-package"><i class="fa fa-check"></i><b>4.7.1</b> Load Required Package</a></li>
<li class="chapter" data-level="4.7.2" data-path="modeling-loss-severities.html"><a href="modeling-loss-severities.html#ordinary-deductible"><i class="fa fa-check"></i><b>4.7.2</b> Ordinary Deductible</a></li>
<li class="chapter" data-level="4.7.3" data-path="modeling-loss-severities.html"><a href="modeling-loss-severities.html#franchise-deductible"><i class="fa fa-check"></i><b>4.7.3</b> Franchise Deductible</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="model-selection.html"><a href="model-selection.html"><i class="fa fa-check"></i><b>5</b> Model Selection</a><ul>
<li class="chapter" data-level="5.1" data-path="model-selection.html"><a href="model-selection.html#claim-level-data-of-property-fund"><i class="fa fa-check"></i><b>5.1</b> Claim Level Data of Property Fund</a><ul>
<li class="chapter" data-level="5.1.1" data-path="model-selection.html"><a href="model-selection.html#claims-data"><i class="fa fa-check"></i><b>5.1.1</b> Claims Data</a></li>
<li class="chapter" data-level="5.1.2" data-path="model-selection.html"><a href="model-selection.html#summary-of-claims"><i class="fa fa-check"></i><b>5.1.2</b> Summary of Claims</a></li>
<li class="chapter" data-level="5.1.3" data-path="model-selection.html"><a href="model-selection.html#plot-of-claims"><i class="fa fa-check"></i><b>5.1.3</b> Plot of Claims</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="model-selection.html"><a href="model-selection.html#fitting-distributions"><i class="fa fa-check"></i><b>5.2</b> Fitting Distributions</a><ul>
<li class="chapter" data-level="5.2.1" data-path="model-selection.html"><a href="model-selection.html#inference-assuming-a-lognormal-distribution"><i class="fa fa-check"></i><b>5.2.1</b> Inference Assuming a Lognormal Distribution</a></li>
<li class="chapter" data-level="5.2.2" data-path="model-selection.html"><a href="model-selection.html#inference-assuming-a-gamma-distribution"><i class="fa fa-check"></i><b>5.2.2</b> Inference Assuming a Gamma Distribution</a></li>
<li class="chapter" data-level="5.2.3" data-path="model-selection.html"><a href="model-selection.html#inference-assuming-a-pareto-distribution"><i class="fa fa-check"></i><b>5.2.3</b> Inference Assuming a Pareto Distribution</a></li>
<li class="chapter" data-level="5.2.4" data-path="model-selection.html"><a href="model-selection.html#inference-assuming-an-exponential-distribution"><i class="fa fa-check"></i><b>5.2.4</b> Inference Assuming an Exponential Distribution</a></li>
<li class="chapter" data-level="5.2.5" data-path="model-selection.html"><a href="model-selection.html#inference-assuming-a-generalized-beta-distribution-of-the-second-kind-gb2-distribution"><i class="fa fa-check"></i><b>5.2.5</b> Inference Assuming a Generalized Beta Distribution of the Second Kind (GB2) Distribution</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="model-selection.html"><a href="model-selection.html#plotting-the-fit-using-densities-on-a-logarithmic-scale"><i class="fa fa-check"></i><b>5.3</b> Plotting the Fit Using Densities (on a Logarithmic Scale)</a></li>
<li class="chapter" data-level="5.4" data-path="model-selection.html"><a href="model-selection.html#nonparametric-inference"><i class="fa fa-check"></i><b>5.4</b> Nonparametric Inference</a><ul>
<li class="chapter" data-level="5.4.1" data-path="model-selection.html"><a href="model-selection.html#nonparametric-estimation-tools"><i class="fa fa-check"></i><b>5.4.1</b> Nonparametric Estimation Tools</a></li>
<li class="chapter" data-level="5.4.2" data-path="model-selection.html"><a href="model-selection.html#property-fund-data"><i class="fa fa-check"></i><b>5.4.2</b> Property Fund Data</a></li>
<li class="chapter" data-level="5.4.3" data-path="model-selection.html"><a href="model-selection.html#nonparametric-estimation-tools-for-model-selection"><i class="fa fa-check"></i><b>5.4.3</b> Nonparametric Estimation Tools For Model Selection</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="model-selection.html"><a href="model-selection.html#mle-for-grouped-data"><i class="fa fa-check"></i><b>5.5</b> MLE for Grouped Data</a><ul>
<li class="chapter" data-level="5.5.1" data-path="model-selection.html"><a href="model-selection.html#mle-for-grouped-data--soa-exam-c-276"><i class="fa fa-check"></i><b>5.5.1</b> MLE for Grouped Data- SOA Exam C # 276</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="simulation.html"><a href="simulation.html"><i class="fa fa-check"></i><b>6</b> Simulation</a><ul>
<li class="chapter" data-level="6.1" data-path="simulation.html"><a href="simulation.html#simulation---inversion-method"><i class="fa fa-check"></i><b>6.1</b> Simulation - Inversion Method</a></li>
<li class="chapter" data-level="6.2" data-path="simulation.html"><a href="simulation.html#comparing-moments-from-the-simulated-data-to-theoretical-moments"><i class="fa fa-check"></i><b>6.2</b> Comparing Moments from The Simulated Data to Theoretical Moments</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="aggregate-claim-simulation.html"><a href="aggregate-claim-simulation.html"><i class="fa fa-check"></i><b>7</b> Aggregate Claim Simulation</a><ul>
<li class="chapter" data-level="7.1" data-path="aggregate-claim-simulation.html"><a href="aggregate-claim-simulation.html#collective-risk-model-without-coverage-modifications"><i class="fa fa-check"></i><b>7.1</b> Collective Risk Model: without coverage modifications</a><ul>
<li class="chapter" data-level="7.1.1" data-path="aggregate-claim-simulation.html"><a href="aggregate-claim-simulation.html#set-parameters"><i class="fa fa-check"></i><b>7.1.1</b> Set Parameters</a></li>
<li class="chapter" data-level="7.1.2" data-path="aggregate-claim-simulation.html"><a href="aggregate-claim-simulation.html#show-frequency-and-severity-distributions"><i class="fa fa-check"></i><b>7.1.2</b> Show frequency and severity distributions</a></li>
<li class="chapter" data-level="7.1.3" data-path="aggregate-claim-simulation.html"><a href="aggregate-claim-simulation.html#set-sample-size-for-the-simulation"><i class="fa fa-check"></i><b>7.1.3</b> Set sample size for the simulation</a></li>
<li class="chapter" data-level="7.1.4" data-path="aggregate-claim-simulation.html"><a href="aggregate-claim-simulation.html#show-distribution-of-aggregate-loss-s"><i class="fa fa-check"></i><b>7.1.4</b> Show distribution of aggregate loss S</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="aggregate-claim-simulation.html"><a href="aggregate-claim-simulation.html#applications"><i class="fa fa-check"></i><b>7.2</b> Applications</a><ul>
<li class="chapter" data-level="7.2.1" data-path="aggregate-claim-simulation.html"><a href="aggregate-claim-simulation.html#find-descriptive-statistics"><i class="fa fa-check"></i><b>7.2.1</b> Find descriptive statistics</a></li>
<li class="chapter" data-level="7.2.2" data-path="aggregate-claim-simulation.html"><a href="aggregate-claim-simulation.html#calculate-cdf"><i class="fa fa-check"></i><b>7.2.2</b> Calculate cdf</a></li>
<li class="chapter" data-level="7.2.3" data-path="aggregate-claim-simulation.html"><a href="aggregate-claim-simulation.html#calculate-risk-measures"><i class="fa fa-check"></i><b>7.2.3</b> Calculate risk measures</a></li>
<li class="chapter" data-level="7.2.4" data-path="aggregate-claim-simulation.html"><a href="aggregate-claim-simulation.html#pricing-stop-loss-insurance---set-deductible"><i class="fa fa-check"></i><b>7.2.4</b> Pricing stop-loss insurance - Set deductible</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="freqsev.html"><a href="freqsev.html"><i class="fa fa-check"></i><b>8</b> FreqSev</a><ul>
<li class="chapter" data-level="8.1" data-path="freqsev.html"><a href="freqsev.html#getting-the-data"><i class="fa fa-check"></i><b>8.1</b> Getting the Data</a><ul>
<li class="chapter" data-level="8.1.1" data-path="freqsev.html"><a href="freqsev.html#read-data-massauto.csv"><i class="fa fa-check"></i><b>8.1.1</b> read data “MassAuto.csv”</a></li>
<li class="chapter" data-level="8.1.2" data-path="freqsev.html"><a href="freqsev.html#check-variable-names"><i class="fa fa-check"></i><b>8.1.2</b> Check Variable Names</a></li>
<li class="chapter" data-level="8.1.3" data-path="freqsev.html"><a href="freqsev.html#calculate-total-losses-in-dat"><i class="fa fa-check"></i><b>8.1.3</b> Calculate Total Losses in “dat”</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="freqsev.html"><a href="freqsev.html#fit-frequency-models"><i class="fa fa-check"></i><b>8.2</b> Fit Frequency Models</a><ul>
<li class="chapter" data-level="8.2.1" data-path="freqsev.html"><a href="freqsev.html#prepare-data-for-frequency-models"><i class="fa fa-check"></i><b>8.2.1</b> Prepare Data for Frequency Models</a></li>
<li class="chapter" data-level="8.2.2" data-path="freqsev.html"><a href="freqsev.html#fit-poisson-distribution"><i class="fa fa-check"></i><b>8.2.2</b> Fit Poisson distribution</a></li>
<li class="chapter" data-level="8.2.3" data-path="freqsev.html"><a href="freqsev.html#fit-negative-binomial-distribution"><i class="fa fa-check"></i><b>8.2.3</b> Fit Negative Binomial Distribution</a></li>
<li class="chapter" data-level="8.2.4" data-path="freqsev.html"><a href="freqsev.html#goodness-of-fit-1"><i class="fa fa-check"></i><b>8.2.4</b> Goodness-of-Fit</a></li>
<li class="chapter" data-level="8.2.5" data-path="freqsev.html"><a href="freqsev.html#chi-square-statistics"><i class="fa fa-check"></i><b>8.2.5</b> Chi Square Statistics</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="freqsev.html"><a href="freqsev.html#fit-severity-models"><i class="fa fa-check"></i><b>8.3</b> Fit Severity Models</a><ul>
<li class="chapter" data-level="8.3.1" data-path="freqsev.html"><a href="freqsev.html#prepare-data-for-severity-models"><i class="fa fa-check"></i><b>8.3.1</b> Prepare Data for Severity Models</a></li>
<li class="chapter" data-level="8.3.2" data-path="freqsev.html"><a href="freqsev.html#log-normal-distribution"><i class="fa fa-check"></i><b>8.3.2</b> Log-normal distribution</a></li>
<li class="chapter" data-level="8.3.3" data-path="freqsev.html"><a href="freqsev.html#pareto-distribution-1"><i class="fa fa-check"></i><b>8.3.3</b> Pareto Distribution</a></li>
<li class="chapter" data-level="8.3.4" data-path="freqsev.html"><a href="freqsev.html#histogram"><i class="fa fa-check"></i><b>8.3.4</b> Histogram</a></li>
<li class="chapter" data-level="8.3.5" data-path="freqsev.html"><a href="freqsev.html#qq-plots"><i class="fa fa-check"></i><b>8.3.5</b> qq Plots</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="tweedie.html"><a href="tweedie.html"><i class="fa fa-check"></i><b>9</b> Tweedie</a><ul>
<li class="chapter" data-level="9.1" data-path="tweedie.html"><a href="tweedie.html#tweedie-distribution"><i class="fa fa-check"></i><b>9.1</b> Tweedie distribution</a><ul>
<li class="chapter" data-level="9.1.1" data-path="tweedie.html"><a href="tweedie.html#load-tweedie-package"><i class="fa fa-check"></i><b>9.1.1</b> Load Tweedie Package</a></li>
<li class="chapter" data-level="9.1.2" data-path="tweedie.html"><a href="tweedie.html#set-paramteres-for-tweediepmuphi"><i class="fa fa-check"></i><b>9.1.2</b> Set Paramteres for Tweedie(p,mu,phi)</a></li>
<li class="chapter" data-level="9.1.3" data-path="tweedie.html"><a href="tweedie.html#set-sample-size"><i class="fa fa-check"></i><b>9.1.3</b> Set Sample Size</a></li>
<li class="chapter" data-level="9.1.4" data-path="tweedie.html"><a href="tweedie.html#show-summary-statistics"><i class="fa fa-check"></i><b>9.1.4</b> Show Summary Statistics</a></li>
<li class="chapter" data-level="9.1.5" data-path="tweedie.html"><a href="tweedie.html#show-histogram"><i class="fa fa-check"></i><b>9.1.5</b> Show Histogram</a></li>
<li class="chapter" data-level="9.1.6" data-path="tweedie.html"><a href="tweedie.html#qq-plots-for-different-p-values"><i class="fa fa-check"></i><b>9.1.6</b> QQ Plots for Different p Values</a></li>
<li class="chapter" data-level="9.1.7" data-path="tweedie.html"><a href="tweedie.html#fit-tweedie-distribution"><i class="fa fa-check"></i><b>9.1.7</b> Fit Tweedie Distribution</a></li>
<li class="chapter" data-level="9.1.8" data-path="tweedie.html"><a href="tweedie.html#show-parameter-estimates"><i class="fa fa-check"></i><b>9.1.8</b> Show Parameter Estimates</a></li>
<li class="chapter" data-level="9.1.9" data-path="tweedie.html"><a href="tweedie.html#maximum-likelihood-estimation"><i class="fa fa-check"></i><b>9.1.9</b> Maximum Likelihood Estimation</a></li>
<li class="chapter" data-level="9.1.10" data-path="tweedie.html"><a href="tweedie.html#obtain-standard-error-4"><i class="fa fa-check"></i><b>9.1.10</b> Obtain Standard Error</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="bootstrap-estimation.html"><a href="bootstrap-estimation.html"><i class="fa fa-check"></i><b>10</b> Bootstrap Estimation</a><ul>
<li class="chapter" data-level="10.1" data-path="bootstrap-estimation.html"><a href="bootstrap-estimation.html#empirical-bootstrap"><i class="fa fa-check"></i><b>10.1</b> Empirical Bootstrap</a><ul>
<li class="chapter" data-level="10.1.1" data-path="bootstrap-estimation.html"><a href="bootstrap-estimation.html#random-sample"><i class="fa fa-check"></i><b>10.1.1</b> Random sample</a></li>
<li class="chapter" data-level="10.1.2" data-path="bootstrap-estimation.html"><a href="bootstrap-estimation.html#sample-mean"><i class="fa fa-check"></i><b>10.1.2</b> Sample mean</a></li>
<li class="chapter" data-level="10.1.3" data-path="bootstrap-estimation.html"><a href="bootstrap-estimation.html#random-resamples-from-y"><i class="fa fa-check"></i><b>10.1.3</b> Random resamples from y</a></li>
<li class="chapter" data-level="10.1.4" data-path="bootstrap-estimation.html"><a href="bootstrap-estimation.html#confidence-interval"><i class="fa fa-check"></i><b>10.1.4</b> 90% confidence interval</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="bootstrap-estimation.html"><a href="bootstrap-estimation.html#parametric-bootstrap"><i class="fa fa-check"></i><b>10.2</b> Parametric Bootstrap</a><ul>
<li class="chapter" data-level="10.2.1" data-path="bootstrap-estimation.html"><a href="bootstrap-estimation.html#random-sample-of-size-250"><i class="fa fa-check"></i><b>10.2.1</b> random sample of size 250</a></li>
<li class="chapter" data-level="10.2.2" data-path="bootstrap-estimation.html"><a href="bootstrap-estimation.html#the-mle-for-lambda-1xbar"><i class="fa fa-check"></i><b>10.2.2</b> The MLE for lambda: 1/xbar</a></li>
<li class="chapter" data-level="10.2.3" data-path="bootstrap-estimation.html"><a href="bootstrap-estimation.html#generate-bootstrap-samples"><i class="fa fa-check"></i><b>10.2.3</b> Generate bootstrap samples</a></li>
<li class="chapter" data-level="10.2.4" data-path="bootstrap-estimation.html"><a href="bootstrap-estimation.html#compute-botstrap-statistics"><i class="fa fa-check"></i><b>10.2.4</b> compute botstrap statistics</a></li>
<li class="chapter" data-level="10.2.5" data-path="bootstrap-estimation.html"><a href="bootstrap-estimation.html#calculate-deviation-from-sample-statistics"><i class="fa fa-check"></i><b>10.2.5</b> calculate deviation from sample statistics</a></li>
<li class="chapter" data-level="10.2.6" data-path="bootstrap-estimation.html"><a href="bootstrap-estimation.html#confidence-intervel"><i class="fa fa-check"></i><b>10.2.6</b> 90% confidence intervel</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R for Loss Data Analytics</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="model-selection" class="section level1">
<h1><span class="header-section-number">Chapter 5</span> Model Selection</h1>
<p><em>This file contains illustrative <strong>R</strong> code for computing important count distributions. When reviewing this code, you should open an <strong>R</strong> session, copy-and-paste the code, and see it perform. Then, you will be able to change parameters, look up commands, and so forth, as you go.This code uses the dataset <code>CLAIMLEVEL.csv</code> </em></p>
<div id="claim-level-data-of-property-fund" class="section level2 tabset">
<h2><span class="header-section-number">5.1</span> Claim Level Data of Property Fund</h2>
<p>This section summarizes claims from the property fund for year 2010 and plots the data.</p>
<div id="claims-data" class="section level3">
<h3><span class="header-section-number">5.1.1</span> Claims Data</h3>
<p>The results below considers individual claims from the property fund for year 2010.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">## Read in data and get number of claims.  
ClaimLev &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;Data/CLAIMLEVEL.csv&quot;</span>, <span class="dt">header=</span><span class="ot">TRUE</span>); <span class="kw">nrow</span>(ClaimLev); <span class="co"># 6258</span></code></pre></div>
<pre><code>[1] 6258</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#2010 subset </span>
ClaimData&lt;-<span class="kw">subset</span>(ClaimLev,Year<span class="op">==</span><span class="dv">2010</span>); 
<span class="kw">length</span>(<span class="kw">unique</span>(ClaimData<span class="op">$</span>PolicyNum))        <span class="co">#403 unique policyholders</span></code></pre></div>
<pre><code>[1] 403</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">NTot =<span class="st"> </span><span class="kw">nrow</span>(ClaimData)                     <span class="co">#1377 individual claims</span>
NTot</code></pre></div>
<pre><code>[1] 1377</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># As an alternative, you can simulate Claims</span>
<span class="co">#NTot = 13770</span>
<span class="co">#alphahat = 2</span>
<span class="co">#thetahat =  100</span>

<span class="co">#Claim = rgamma(NTot, shape = alphahat, scale = thetahat)</span>
<span class="co">#Claim = rparetoII(NTot, loc = 0,  shape = alphahat, scale = thetahat)</span>
<span class="co"># GB2</span>
<span class="co">#Claim = thetahat*rgamma(NTot, shape = alphahat, scale = 1)/rgamma(NTot, shape = 1, scale =1) </span>
<span class="co">#ClaimData &lt;- data.frame(Claim)</span>

###################################################</code></pre></div>
</div>
<div id="summary-of-claims" class="section level3">
<h3><span class="header-section-number">5.1.2</span> Summary of Claims</h3>
<p>The output below provides summary on claims data for 2010 and summary in logarithmic units.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Summarizing the claim data for 2010</span>
<span class="kw">summary</span>(ClaimData<span class="op">$</span>Claim);     <span class="kw">sd</span>(ClaimData<span class="op">$</span>Claim)</code></pre></div>
<pre><code>    Min.  1st Qu.   Median     Mean  3rd Qu.     Max. 
       1      789     2250    26623     6171 12922218 </code></pre>
<pre><code>[1] 368029.7</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Summarizing logarithmic claims for 2010</span>
<span class="kw">summary</span>(<span class="kw">log</span>(ClaimData<span class="op">$</span>Claim));<span class="kw">sd</span>(<span class="kw">log</span>(ClaimData<span class="op">$</span>Claim))</code></pre></div>
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
  0.000   6.670   7.719   7.804   8.728  16.374 </code></pre>
<pre><code>[1] 1.683297</code></pre>
</div>
<div id="plot-of-claims" class="section level3">
<h3><span class="header-section-number">5.1.3</span> Plot of Claims</h3>
<p>The plots below provides further information about the distribution of sample claims.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#histogram </span>
<span class="kw">par</span>(<span class="dt">mfrow=</span><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>))
<span class="kw">hist</span>(ClaimData<span class="op">$</span>Claim, <span class="dt">main=</span><span class="st">&quot;&quot;</span>, <span class="dt">xlab=</span><span class="st">&quot;Claims&quot;</span>)
<span class="kw">hist</span>(<span class="kw">log</span>(ClaimData<span class="op">$</span>Claim), <span class="dt">main=</span><span class="st">&quot;&quot;</span>, <span class="dt">xlab=</span><span class="st">&quot;Logarithmic Claims&quot;</span>)</code></pre></div>
<p><img src="R_for_Loss_Data_Analytics_files/figure-html/unnamed-chunk-57-1.png" width="672" style="display: block; margin: auto;" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#dev.off()</span></code></pre></div>
</div>
</div>
<div id="fitting-distributions" class="section level2 tabset">
<h2><span class="header-section-number">5.2</span> Fitting Distributions</h2>
<p>This section shows how to fit basic distributions to a data set.</p>
<div id="inference-assuming-a-lognormal-distribution" class="section level3">
<h3><span class="header-section-number">5.2.1</span> Inference Assuming a Lognormal Distribution</h3>
<p>The results below assume that the data follow a lognormal distribution and uses<code>VGAM</code> library for estimation of parameters.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#  Inference assuming a lognormal distribution</span>
<span class="co">#  First, take the log of the data and assume normality</span>
y =<span class="st"> </span><span class="kw">log</span>(ClaimData<span class="op">$</span>Claim)
<span class="kw">summary</span>(y);<span class="kw">sd</span>(y)</code></pre></div>
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
  0.000   6.670   7.719   7.804   8.728  16.374 </code></pre>
<pre><code>[1] 1.683297</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># confidence intervals and hypothesis test</span>
<span class="kw">t.test</span>(y,<span class="dt">mu=</span><span class="kw">log</span>(<span class="dv">5000</span>))   <span class="co"># H0: mu_o=log(5000)=8.517</span></code></pre></div>
<pre><code>
    One Sample t-test

data:  y
t = -15.717, df = 1376, p-value &lt; 2.2e-16
alternative hypothesis: true mean is not equal to 8.517193
95 percent confidence interval:
 7.715235 7.893208
sample estimates:
mean of x 
 7.804222 </code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#mean of the lognormal distribution</span>
<span class="kw">exp</span>(<span class="kw">mean</span>(y)<span class="op">+</span><span class="kw">sd</span>(y)<span class="op">^</span><span class="dv">2</span><span class="op">/</span><span class="dv">2</span>)</code></pre></div>
<pre><code>[1] 10106.82</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">mean</span>(ClaimData<span class="op">$</span>Claim)</code></pre></div>
<pre><code>[1] 26622.59</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#Alternatively, assume that the data follow a lognormal distribution</span>
<span class="co">#Use &quot;VGAM&quot; library for estimation of parameters </span>
<span class="kw">library</span>(VGAM)
fit.LN &lt;-<span class="st"> </span><span class="kw">vglm</span>(Claim <span class="op">~</span><span class="st"> </span><span class="dv">1</span>, <span class="dt">family=</span>lognormal, <span class="dt">data =</span> ClaimData)
<span class="kw">summary</span>(fit.LN)</code></pre></div>
<pre><code>
Call:
vglm(formula = Claim ~ 1, family = lognormal, data = ClaimData)


Pearson residuals:
                Min      1Q   Median     3Q    Max
meanlog     -4.6380 -0.6740 -0.05083 0.5487  5.093
loge(sdlog) -0.7071 -0.6472 -0.44003 0.1135 17.636

Coefficients: 
              Estimate Std. Error z value Pr(&gt;|z|)    
(Intercept):1  7.80422    0.04535  172.10   &lt;2e-16 ***
(Intercept):2  0.52039    0.01906   27.31   &lt;2e-16 ***
---
Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1

Number of linear predictors:  2 

Names of linear predictors: meanlog, loge(sdlog)

Log-likelihood: -13416.87 on 2752 degrees of freedom

Number of iterations: 3 

No Hauck-Donner effect found in any of the estimates</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">coef</span>(fit.LN)                 <span class="co"># coefficients</span></code></pre></div>
<pre><code>(Intercept):1 (Intercept):2 
    7.8042218     0.5203908 </code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">confint</span>(fit.LN, <span class="dt">level=</span><span class="fl">0.95</span>)  <span class="co"># confidence intervals for model parameters </span></code></pre></div>
<pre><code>                  2.5 %    97.5 %
(Intercept):1 7.7153457 7.8930978
(Intercept):2 0.4830429 0.5577387</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">logLik</span>(fit.LN)               <span class="co">#loglikelihood for lognormal</span></code></pre></div>
<pre><code>[1] -13416.87</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">AIC</span>(fit.LN)                  <span class="co">#AIC for lognormal</span></code></pre></div>
<pre><code>[1] 26837.74</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">BIC</span>(fit.LN)                  <span class="co">#BIC for lognormal</span></code></pre></div>
<pre><code>[1] 26848.2</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">vcov</span>(fit.LN)                 <span class="co"># covariance matrix for model parameters </span></code></pre></div>
<pre><code>              (Intercept):1 (Intercept):2
(Intercept):1   0.002056237  0.0000000000
(Intercept):2   0.000000000  0.0003631082</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#mean of the lognormal distribution</span>
<span class="kw">exp</span>(<span class="kw">mean</span>(y)<span class="op">+</span><span class="kw">sd</span>(y)<span class="op">^</span><span class="dv">2</span><span class="op">/</span><span class="dv">2</span>)</code></pre></div>
<pre><code>[1] 10106.82</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">exp</span>(<span class="kw">coef</span>(fit.LN))</code></pre></div>
<pre><code>(Intercept):1 (Intercept):2 
  2450.927448      1.682685 </code></pre>
<p>A few quick notes on these commands:</p>
<ul>
<li>The <code>t.test()</code> function can be used for a variety of t-tests. In this illustration, it was used to test <span class="math inline">\(H_0=\mu_0=\log(5000)=8.517\)</span>.</li>
<li>The <code>vglm()</code> function is used to fit vector generalized linear models (VGLMs). See <code>help(vglm)</code> for other modeling options.</li>
<li>The <code>coef()</code> function returns the estimated coefficients from the <code>vglm</code> or other modeling functions.</li>
<li>The <code>confint</code> function provides the confidence intervals for model parameters.</li>
<li>The <code>loglik</code> function provides the log-likelihood value for the lognormal estimation from the <code>vglm</code> or other modeling functions.</li>
<li><code>AIC()</code> and <code>BIC()</code> returns Akaike’s Information Criterion and BIC or SBC (Schwarz’s Bayesian criterion) for the fitted lognormal model. <span class="math inline">\(\text{AIC} =-2* \text{(loglikelihood)} + 2*\text{npar}\)</span> , where <code>npar</code> represents the number of parameters in the fitted model, and <span class="math inline">\(\text{BIC} =-2* \text{log-likelihood} + \log(n)* \text{npar}\)</span> where <span class="math inline">\(n\)</span> is the number of observations.</li>
<li><code>vcov()</code> returns the covariance matrix for model parameters.</li>
</ul>
</div>
<div id="inference-assuming-a-gamma-distribution" class="section level3">
<h3><span class="header-section-number">5.2.2</span> Inference Assuming a Gamma Distribution</h3>
<p>The results below assume that the data follow a gamma distribution and uses<code>VGAM</code> library for estimation of parameters.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#  Inference assuming a gamma distribution</span>
<span class="co">#install.packages(&quot;VGAM&quot;)</span>
<span class="kw">library</span>(VGAM)
fit.gamma &lt;-<span class="st"> </span><span class="kw">vglm</span>(Claim <span class="op">~</span><span class="st"> </span><span class="dv">1</span>, <span class="dt">family=</span>gamma2, <span class="dt">data =</span> ClaimData)
<span class="kw">summary</span>(fit.gamma)</code></pre></div>
<pre><code>
Call:
vglm(formula = Claim ~ 1, family = gamma2, data = ClaimData)


Pearson residuals:
                 Min      1Q  Median      3Q     Max
loge(mu)      -0.539 -0.5231 -0.4935 -0.4141 261.117
loge(shape) -153.990 -0.1024  0.2335  0.4969   0.772

Coefficients: 
              Estimate Std. Error z value Pr(&gt;|z|)    
(Intercept):1 10.18952    0.04999  203.82   &lt;2e-16 ***
(Intercept):2 -1.23582    0.03001  -41.17   &lt;2e-16 ***
---
Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1

Number of linear predictors:  2 

Names of linear predictors: loge(mu), loge(shape)

Log-likelihood: -14150.59 on 2752 degrees of freedom

Number of iterations: 13 

No Hauck-Donner effect found in any of the estimates</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">coef</span>(fit.gamma)                 <span class="co"># This uses a different parameterization </span></code></pre></div>
<pre><code>(Intercept):1 (Intercept):2 
    10.189515     -1.235822 </code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">(theta&lt;-<span class="kw">exp</span>(<span class="kw">coef</span>(fit.gamma)[<span class="dv">1</span>])<span class="op">/</span><span class="kw">exp</span>(<span class="kw">coef</span>(fit.gamma)[<span class="dv">2</span>])) <span class="co">#theta=mu/alpha</span></code></pre></div>
<pre><code>(Intercept):1 
     91613.78 </code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">(alpha&lt;-<span class="kw">exp</span>(<span class="kw">coef</span>(fit.gamma)[<span class="dv">2</span>]))</code></pre></div>
<pre><code>(Intercept):2 
    0.2905959 </code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">plot</span>(<span class="kw">density</span>(<span class="kw">log</span>(ClaimData<span class="op">$</span>Claim)), <span class="dt">main=</span><span class="st">&quot;&quot;</span>, <span class="dt">xlab=</span><span class="st">&quot;Log Expenditures&quot;</span>)
x &lt;-<span class="st"> </span><span class="kw">seq</span>(<span class="dv">0</span>,<span class="dv">15</span>,<span class="dt">by=</span><span class="fl">0.01</span>)
fgamma_ex =<span class="st"> </span><span class="kw">dgamma</span>(<span class="kw">exp</span>(x), <span class="dt">shape =</span> alpha, <span class="dt">scale=</span>theta)<span class="op">*</span><span class="kw">exp</span>(x)
<span class="kw">lines</span>(x,fgamma_ex,<span class="dt">col=</span><span class="st">&quot;blue&quot;</span>)</code></pre></div>
<p><img src="R_for_Loss_Data_Analytics_files/figure-html/unnamed-chunk-59-1.png" width="672" style="display: block; margin: auto;" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">confint</span>(fit.gamma, <span class="dt">level=</span><span class="fl">0.95</span>)  <span class="co"># confidence intervals for model parameters </span></code></pre></div>
<pre><code>                  2.5 %    97.5 %
(Intercept):1 10.091533 10.287498
(Intercept):2 -1.294648 -1.176995</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">logLik</span>(fit.gamma)               <span class="co">#loglikelihood for gamma</span></code></pre></div>
<pre><code>[1] -14150.59</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">AIC</span>(fit.gamma)                  <span class="co">#AIC for gamma</span></code></pre></div>
<pre><code>[1] 28305.17</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">BIC</span>(fit.gamma)                  <span class="co">#BIC for gamma</span></code></pre></div>
<pre><code>[1] 28315.63</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">vcov</span>(fit.gamma)                 <span class="co"># covariance matrix for model parameters </span></code></pre></div>
<pre><code>              (Intercept):1 (Intercept):2
(Intercept):1   0.002499196  0.0000000000
(Intercept):2   0.000000000  0.0009008397</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Here is a check on the formulas</span>
<span class="co">#AIC using formula : -2*(loglik)+2(number of parameters)</span>
<span class="op">-</span><span class="dv">2</span><span class="op">*</span>(<span class="kw">logLik</span>(fit.gamma))<span class="op">+</span><span class="dv">2</span><span class="op">*</span>(<span class="kw">length</span>(<span class="kw">coef</span>(fit.gamma)))</code></pre></div>
<pre><code>[1] 28305.17</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#BIC using formula : -2*(loglik)+(number of parameters)*(log(n))</span>
<span class="op">-</span><span class="dv">2</span><span class="op">*</span>(<span class="kw">logLik</span>(fit.gamma))<span class="op">+</span><span class="kw">length</span>(<span class="kw">coef</span>(fit.gamma, <span class="dt">matrix =</span> <span class="ot">TRUE</span>))<span class="op">*</span><span class="kw">log</span>(<span class="kw">nrow</span>(ClaimData))</code></pre></div>
<pre><code>[1] 28315.63</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#Alternatively, we could a gamma distribution using glm</span>
<span class="kw">library</span>(MASS)
fit.gamma2 &lt;-<span class="st"> </span><span class="kw">glm</span>(Claim<span class="op">~</span><span class="dv">1</span>, <span class="dt">data=</span>ClaimData,<span class="dt">family=</span><span class="kw">Gamma</span>(<span class="dt">link=</span>log)) 
<span class="kw">summary</span>(fit.gamma2, <span class="dt">dispersion =</span> <span class="kw">gamma.dispersion</span>(fit.gamma2)) </code></pre></div>
<pre><code>
Call:
glm(formula = Claim ~ 1, family = Gamma(link = log), data = ClaimData)

Deviance Residuals: 
   Min      1Q  Median      3Q     Max  
-4.287  -2.258  -1.764  -1.178  30.926  

Coefficients:
            Estimate Std. Error z value Pr(&gt;|z|)    
(Intercept) 10.18952    0.04999   203.8   &lt;2e-16 ***
---
Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1

(Dispersion parameter for Gamma family taken to be 3.441204)

    Null deviance: 6569.1  on 1376  degrees of freedom
Residual deviance: 6569.1  on 1376  degrees of freedom
AIC: 28414

Number of Fisher Scoring iterations: 14</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">(theta&lt;-<span class="kw">exp</span>(<span class="kw">coef</span>(fit.gamma2))<span class="op">*</span><span class="kw">gamma.dispersion</span>(fit.gamma2)) <span class="co">#theta=mu/alpha</span></code></pre></div>
<pre><code>(Intercept) 
   91613.78 </code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">(alpha&lt;-<span class="dv">1</span><span class="op">/</span><span class="kw">gamma.dispersion</span>(fit.gamma2) )</code></pre></div>
<pre><code>[1] 0.2905959</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">logLik</span>(fit.gamma2)  <span class="co">#log - likelihood slightly different from vglm</span></code></pre></div>
<pre><code>&#39;log Lik.&#39; -14204.77 (df=2)</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">AIC</span>(fit.gamma2)     <span class="co">#AIC</span></code></pre></div>
<pre><code>[1] 28413.53</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">BIC</span>(fit.gamma2)     <span class="co">#BIC</span></code></pre></div>
<pre><code>[1] 28423.99</code></pre>
<p>Note : The output from <code>coef(fit.gamma)</code> uses the parameterization <span class="math inline">\(\mu=\theta * \alpha\)</span>. <code>coef(fit.gamma)[1]</code>=<span class="math inline">\(\log(\mu)\)</span> and <code>coef(fit.gamma)[2]</code>=<span class="math inline">\(\log(\alpha)\)</span>,which implies , <span class="math inline">\(\alpha\)</span>=<code>exp(coef(fit.gamma)[2])</code> and <span class="math inline">\(\theta=\mu/\alpha\)</span>=<code>exp(coef(fit.gamma)[1])/exp(coef(fit.gamma)[2])</code>.</p>
</div>
<div id="inference-assuming-a-pareto-distribution" class="section level3">
<h3><span class="header-section-number">5.2.3</span> Inference Assuming a Pareto Distribution</h3>
<p>The results below assume that the data follow a Pareto distribution and uses<code>VGAM</code> library for estimation of parameters.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">fit.pareto &lt;-<span class="st"> </span><span class="kw">vglm</span>(Claim <span class="op">~</span><span class="st"> </span><span class="dv">1</span>, paretoII, <span class="dt">loc=</span><span class="dv">0</span>, <span class="dt">data =</span> ClaimData)
<span class="kw">summary</span>(fit.pareto)</code></pre></div>
<pre><code>
Call:
vglm(formula = Claim ~ 1, family = paretoII, data = ClaimData, 
    loc = 0)


Pearson residuals:
                Min      1Q Median     3Q   Max
loge(scale)  -6.332 -0.8289 0.1875 0.8832 1.174
loge(shape) -10.638  0.0946 0.4047 0.4842 0.513

Coefficients: 
                Estimate Std. Error z value Pr(&gt;|z|)    
(Intercept):1  7.7329210  0.0933332  82.853   &lt;2e-16 ***
(Intercept):2 -0.0008753  0.0538642  -0.016    0.987    
---
Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1

Number of linear predictors:  2 

Names of linear predictors: loge(scale), loge(shape)

Log-likelihood: -13404.64 on 2752 degrees of freedom

Number of iterations: 5 

No Hauck-Donner effect found in any of the estimates</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">head</span>(<span class="kw">fitted</span>(fit.pareto))</code></pre></div>
<pre><code>        [,1]
[1,] 2285.03
[2,] 2285.03
[3,] 2285.03
[4,] 2285.03
[5,] 2285.03
[6,] 2285.03</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">coef</span>(fit.pareto)</code></pre></div>
<pre><code>(Intercept):1 (Intercept):2 
 7.7329210483 -0.0008752515 </code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">exp</span>(<span class="kw">coef</span>(fit.pareto))</code></pre></div>
<pre><code>(Intercept):1 (Intercept):2 
 2282.2590626     0.9991251 </code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">confint</span>(fit.pareto, <span class="dt">level=</span><span class="fl">0.95</span>)  <span class="co"># confidence intervals for model parameters </span></code></pre></div>
<pre><code>                   2.5 %    97.5 %
(Intercept):1  7.5499914 7.9158507
(Intercept):2 -0.1064471 0.1046966</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">logLik</span>(fit.pareto)               <span class="co">#loglikelihood for pareto</span></code></pre></div>
<pre><code>[1] -13404.64</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">AIC</span>(fit.pareto)                  <span class="co">#AIC for pareto</span></code></pre></div>
<pre><code>[1] 26813.29</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">BIC</span>(fit.pareto)                  <span class="co">#BIC for pareto</span></code></pre></div>
<pre><code>[1] 26823.74</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">vcov</span>(fit.pareto)                 <span class="co"># covariance matrix for model parameters </span></code></pre></div>
<pre><code>              (Intercept):1 (Intercept):2
(Intercept):1   0.008711083   0.004352904
(Intercept):2   0.004352904   0.002901350</code></pre>
</div>
<div id="inference-assuming-an-exponential-distribution" class="section level3">
<h3><span class="header-section-number">5.2.4</span> Inference Assuming an Exponential Distribution</h3>
<p>The results below assume that the data follow an exponential distribution and uses<code>VGAM</code> library for estimation of parameters.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">fit.exp &lt;-<span class="st"> </span><span class="kw">vglm</span>(Claim <span class="op">~</span><span class="st"> </span><span class="dv">1</span>, exponential, <span class="dt">data =</span> ClaimData)
<span class="kw">summary</span>(fit.exp)</code></pre></div>
<pre><code>
Call:
vglm(formula = Claim ~ 1, family = exponential, data = ClaimData)


Pearson residuals:
              Min     1Q Median     3Q Max
loge(rate) -484.4 0.7682 0.9155 0.9704   1

Coefficients: 
             Estimate Std. Error z value Pr(&gt;|z|)    
(Intercept) -10.18952    0.02695  -378.1   &lt;2e-16 ***
---
Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1

Number of linear predictors:  1 

Name of linear predictor: loge(rate) 

Residual deviance: 6569.099 on 1376 degrees of freedom

Log-likelihood: -15407.96 on 1376 degrees of freedom

Number of iterations: 6 

No Hauck-Donner effect found in any of the estimates</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">(<span class="dt">theta =</span> <span class="dv">1</span><span class="op">/</span><span class="kw">exp</span>(<span class="kw">coef</span>(fit.exp)))</code></pre></div>
<pre><code>(Intercept) 
   26622.59 </code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Can also fit using the &quot;glm&quot; package</span>
fit.exp2 &lt;-<span class="st"> </span><span class="kw">glm</span>(Claim<span class="op">~</span><span class="dv">1</span>, <span class="dt">data=</span>ClaimData,<span class="dt">family=</span><span class="kw">Gamma</span>(<span class="dt">link=</span>log)) 
<span class="kw">summary</span>(fit.exp2,<span class="dt">dispersion=</span><span class="dv">1</span>)</code></pre></div>
<pre><code>
Call:
glm(formula = Claim ~ 1, family = Gamma(link = log), data = ClaimData)

Deviance Residuals: 
   Min      1Q  Median      3Q     Max  
-4.287  -2.258  -1.764  -1.178  30.926  

Coefficients:
            Estimate Std. Error z value Pr(&gt;|z|)    
(Intercept) 10.18952    0.02695   378.1   &lt;2e-16 ***
---
Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1

(Dispersion parameter for Gamma family taken to be 1)

    Null deviance: 6569.1  on 1376  degrees of freedom
Residual deviance: 6569.1  on 1376  degrees of freedom
AIC: 28414

Number of Fisher Scoring iterations: 14</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">(theta&lt;-<span class="kw">exp</span>(<span class="kw">coef</span>(fit.exp2)))  </code></pre></div>
<pre><code>(Intercept) 
   26622.59 </code></pre>
</div>
<div id="inference-assuming-a-generalized-beta-distribution-of-the-second-kind-gb2-distribution" class="section level3">
<h3><span class="header-section-number">5.2.5</span> Inference Assuming a Generalized Beta Distribution of the Second Kind (GB2) Distribution</h3>
<p>The results below assume that the data follow a GB2 distribution and uses the maximum likelihood technique for parameter estimation.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#  Inference assuming a GB2 Distribution - this is more complicated</span>
<span class="co"># The likelihood functon of GB2 distribution (negative for optimization)</span>
likgb2 &lt;-<span class="st"> </span><span class="cf">function</span>(param) {
  a1 &lt;-<span class="st"> </span>param[<span class="dv">1</span>]
  a2 &lt;-<span class="st"> </span>param[<span class="dv">2</span>]
  mu &lt;-<span class="st"> </span>param[<span class="dv">3</span>]
  sigma &lt;-<span class="st"> </span>param[<span class="dv">4</span>]
  yt &lt;-<span class="st"> </span>(<span class="kw">log</span>(ClaimData<span class="op">$</span>Claim)<span class="op">-</span>mu)<span class="op">/</span>sigma
  logexpyt&lt;-<span class="kw">ifelse</span>(yt<span class="op">&gt;</span><span class="dv">23</span>,yt,<span class="kw">log</span>(<span class="dv">1</span><span class="op">+</span><span class="kw">exp</span>(yt)))
  logdens &lt;-<span class="st"> </span>a1<span class="op">*</span>yt <span class="op">-</span><span class="st"> </span><span class="kw">log</span>(sigma) <span class="op">-</span><span class="st"> </span><span class="kw">log</span>(<span class="kw">beta</span>(a1,a2)) <span class="op">-</span><span class="st"> </span>(a1<span class="op">+</span>a2)<span class="op">*</span>logexpyt <span class="op">-</span><span class="kw">log</span>(ClaimData<span class="op">$</span>Claim) 
  <span class="kw">return</span>(<span class="op">-</span><span class="kw">sum</span>(logdens))
}
<span class="co">#  &quot;optim&quot; is a general purpose minimization function</span>
gb2bop &lt;-<span class="st"> </span><span class="kw">optim</span>(<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">1</span>),likgb2,<span class="dt">method=</span><span class="kw">c</span>(<span class="st">&quot;L-BFGS-B&quot;</span>),
                <span class="dt">lower=</span><span class="kw">c</span>(<span class="fl">0.01</span>,<span class="fl">0.01</span>,<span class="op">-</span><span class="dv">500</span>,<span class="fl">0.01</span>),<span class="dt">upper=</span><span class="kw">c</span>(<span class="dv">500</span>,<span class="dv">500</span>,<span class="dv">500</span>,<span class="dv">500</span>),<span class="dt">hessian=</span><span class="ot">TRUE</span>)

<span class="co">#Estimates</span>
gb2bop<span class="op">$</span>par</code></pre></div>
<pre><code>[1] 2.830928 1.202500 6.328981 1.294552</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#standard error</span>
<span class="kw">sqrt</span>(<span class="kw">diag</span>(<span class="kw">solve</span>(gb2bop<span class="op">$</span>hessian)))</code></pre></div>
<pre><code>[1] 0.9997743 0.2918469 0.3901929 0.2190362</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#t-statistics</span>
(<span class="dt">tstat =</span> gb2bop<span class="op">$</span>par<span class="op">/</span><span class="kw">sqrt</span>(<span class="kw">diag</span>(<span class="kw">solve</span>(gb2bop<span class="op">$</span>hessian))) )</code></pre></div>
<pre><code>[1]  2.831567  4.120313 16.220133  5.910217</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># density for GB II</span>
gb2density &lt;-<span class="st"> </span><span class="cf">function</span>(x){
  a1 &lt;-<span class="st"> </span>gb2bop<span class="op">$</span>par[<span class="dv">1</span>]
  a2 &lt;-<span class="st"> </span>gb2bop<span class="op">$</span>par[<span class="dv">2</span>]
  mu &lt;-<span class="st"> </span>gb2bop<span class="op">$</span>par[<span class="dv">3</span>]
  sigma &lt;-<span class="st"> </span>gb2bop<span class="op">$</span>par[<span class="dv">4</span>]
  xt &lt;-<span class="st"> </span>(<span class="kw">log</span>(x)<span class="op">-</span>mu)<span class="op">/</span>sigma
  logexpxt&lt;-<span class="kw">ifelse</span>(xt<span class="op">&gt;</span><span class="dv">23</span>,yt,<span class="kw">log</span>(<span class="dv">1</span><span class="op">+</span><span class="kw">exp</span>(xt)))
  logdens &lt;-<span class="st"> </span>a1<span class="op">*</span>xt <span class="op">-</span><span class="st"> </span><span class="kw">log</span>(sigma) <span class="op">-</span><span class="st"> </span><span class="kw">log</span>(<span class="kw">beta</span>(a1,a2)) <span class="op">-</span><span class="st"> </span>(a1<span class="op">+</span>a2)<span class="op">*</span>logexpxt <span class="op">-</span><span class="kw">log</span>(x) 
  <span class="kw">exp</span>(logdens)
}

<span class="co">#AIC using formula : -2*(loglik)+2(number of parameters)</span>
<span class="op">-</span><span class="dv">2</span><span class="op">*</span>(<span class="kw">sum</span>(<span class="kw">log</span>(<span class="kw">gb2density</span>(ClaimData<span class="op">$</span>Claim))))<span class="op">+</span><span class="dv">2</span><span class="op">*</span><span class="dv">4</span></code></pre></div>
<pre><code>[1] 26768.13</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#BIC using formula : -2*(loglik)+(number of parameters)*(log(n))</span>
<span class="op">-</span><span class="dv">2</span><span class="op">*</span>(<span class="kw">sum</span>(<span class="kw">log</span>(<span class="kw">gb2density</span>(ClaimData<span class="op">$</span>Claim))))<span class="op">+</span><span class="dv">4</span><span class="op">*</span><span class="kw">log</span>(<span class="kw">nrow</span>(ClaimData))</code></pre></div>
<pre><code>[1] 26789.04</code></pre>
</div>
</div>
<div id="plotting-the-fit-using-densities-on-a-logarithmic-scale" class="section level2 tabset">
<h2><span class="header-section-number">5.3</span> Plotting the Fit Using Densities (on a Logarithmic Scale)</h2>
<p>This section plots on logarithmic scale, the smooth (nonparametric) density of claims and overlay the densities the distributions considered above.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># None of these distributions is doing a great job....</span>
<span class="kw">plot</span>(<span class="kw">density</span>(<span class="kw">log</span>(ClaimData<span class="op">$</span>Claim)), <span class="dt">main=</span><span class="st">&quot;&quot;</span>, <span class="dt">xlab=</span><span class="st">&quot;Log Expenditures&quot;</span>, <span class="dt">ylim=</span><span class="kw">c</span>(<span class="dv">0</span>,<span class="fl">0.37</span>))
x &lt;-<span class="st"> </span><span class="kw">seq</span>(<span class="dv">0</span>,<span class="dv">15</span>,<span class="dt">by=</span><span class="fl">0.01</span>)
fexp_ex =<span class="st"> </span><span class="kw">dgamma</span>(<span class="kw">exp</span>(x), <span class="dt">scale =</span> <span class="kw">exp</span>(<span class="op">-</span><span class="kw">coef</span>(fit.exp)), <span class="dt">shape =</span> <span class="dv">1</span>)<span class="op">*</span><span class="kw">exp</span>(x)
<span class="kw">lines</span>(x,fexp_ex, <span class="dt">col=</span><span class="st">&quot;red&quot;</span>)
fgamma_ex =<span class="st"> </span><span class="kw">dgamma</span>(<span class="kw">exp</span>(x), <span class="dt">shape =</span> alpha, <span class="dt">scale=</span>theta)<span class="op">*</span><span class="kw">exp</span>(x)
<span class="kw">lines</span>(x,fgamma_ex,<span class="dt">col=</span><span class="st">&quot;blue&quot;</span>)
fpareto_ex =<span class="st"> </span><span class="kw">dparetoII</span>(<span class="kw">exp</span>(x),<span class="dt">loc=</span><span class="dv">0</span>,<span class="dt">shape =</span> <span class="kw">exp</span>(<span class="kw">coef</span>(fit.pareto)[<span class="dv">2</span>]), <span class="dt">scale =</span> <span class="kw">exp</span>(<span class="kw">coef</span>(fit.pareto)[<span class="dv">1</span>]))<span class="op">*</span><span class="kw">exp</span>(x)
<span class="kw">lines</span>(x,fpareto_ex,<span class="dt">col=</span><span class="st">&quot;purple&quot;</span>)
flnorm_ex =<span class="st"> </span><span class="kw">dlnorm</span>(<span class="kw">exp</span>(x), <span class="dt">mean =</span> <span class="kw">coef</span>(fit.LN)[<span class="dv">1</span>], <span class="dt">sd =</span> <span class="kw">exp</span>(<span class="kw">coef</span>(fit.LN)[<span class="dv">2</span>]))<span class="op">*</span><span class="kw">exp</span>(x)
<span class="kw">lines</span>(x,flnorm_ex, <span class="dt">col=</span><span class="st">&quot;lightblue&quot;</span>)
<span class="co"># density for GB II</span>
gb2density &lt;-<span class="st"> </span><span class="cf">function</span>(x){
  a1 &lt;-<span class="st"> </span>gb2bop<span class="op">$</span>par[<span class="dv">1</span>]
  a2 &lt;-<span class="st"> </span>gb2bop<span class="op">$</span>par[<span class="dv">2</span>]
  mu &lt;-<span class="st"> </span>gb2bop<span class="op">$</span>par[<span class="dv">3</span>]
  sigma &lt;-<span class="st"> </span>gb2bop<span class="op">$</span>par[<span class="dv">4</span>]
  xt &lt;-<span class="st"> </span>(<span class="kw">log</span>(x)<span class="op">-</span>mu)<span class="op">/</span>sigma
  logexpxt&lt;-<span class="kw">ifelse</span>(xt<span class="op">&gt;</span><span class="dv">23</span>,yt,<span class="kw">log</span>(<span class="dv">1</span><span class="op">+</span><span class="kw">exp</span>(xt)))
  logdens &lt;-<span class="st"> </span>a1<span class="op">*</span>xt <span class="op">-</span><span class="st"> </span><span class="kw">log</span>(sigma) <span class="op">-</span><span class="st"> </span><span class="kw">log</span>(<span class="kw">beta</span>(a1,a2)) <span class="op">-</span><span class="st"> </span>(a1<span class="op">+</span>a2)<span class="op">*</span>logexpxt <span class="op">-</span><span class="kw">log</span>(x) 
  <span class="kw">exp</span>(logdens)
  }
fGB2_ex =<span class="st"> </span><span class="kw">gb2density</span>(<span class="kw">exp</span>(x))<span class="op">*</span><span class="kw">exp</span>(x)
<span class="kw">lines</span>(x,fGB2_ex, <span class="dt">col=</span><span class="st">&quot;green&quot;</span>)

<span class="kw">legend</span>(<span class="st">&quot;topleft&quot;</span>, <span class="kw">c</span>(<span class="st">&quot;log(ClaimData$Claim)&quot;</span>,<span class="st">&quot;Exponential&quot;</span>, <span class="st">&quot;Gamma&quot;</span>, <span class="st">&quot;Pareto&quot;</span>,<span class="st">&quot;lognormal&quot;</span>,<span class="st">&quot;GB2&quot;</span>), <span class="dt">lty=</span><span class="dv">1</span>, <span class="dt">col =</span> <span class="kw">c</span>(<span class="st">&quot;black&quot;</span>,<span class="st">&quot;red&quot;</span>,<span class="st">&quot;blue&quot;</span>,<span class="st">&quot;purple&quot;</span>,<span class="st">&quot;lightblue&quot;</span>,<span class="st">&quot;green&quot;</span>))</code></pre></div>
<p><img src="R_for_Loss_Data_Analytics_files/figure-html/unnamed-chunk-63-1.png" width="672" style="display: block; margin: auto;" /></p>
</div>
<div id="nonparametric-inference" class="section level2">
<h2><span class="header-section-number">5.4</span> Nonparametric Inference</h2>
<div id="nonparametric-estimation-tools" class="section level3 tabset">
<h3><span class="header-section-number">5.4.1</span> Nonparametric Estimation Tools</h3>
<p>This section illustrates non-parametric tools including moment estimators, empirical distribution function, quantiles and density estimators.</p>
<div id="moment-estimators" class="section level4">
<h4><span class="header-section-number">5.4.1.1</span> Moment Estimators</h4>
<p>The <span class="math inline">\(kth\)</span> moment <span class="math inline">\(EX^k\)</span> is estimated by <span class="math inline">\(\frac{1}{n}\sum_{i=1}^{n}X_i^k\)</span>. When <span class="math inline">\(k=1\)</span> then the estimator is called the sample mean. The central moment is defined as <span class="math inline">\(E(X-\mu)^k\)</span>. When <span class="math inline">\(k=2\)</span>, then the central moment is called variance. Below illustrates the mean and variance.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Start with a simple example of ten points</span>
(<span class="dt">xExample =</span> <span class="kw">c</span>(<span class="dv">10</span>,<span class="kw">rep</span>(<span class="dv">15</span>,<span class="dv">3</span>),<span class="dv">20</span>,<span class="kw">rep</span>(<span class="dv">23</span>,<span class="dv">4</span>),<span class="dv">30</span>))</code></pre></div>
<pre><code> [1] 10 15 15 15 20 23 23 23 23 30</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">##summary
<span class="kw">summary</span>(xExample) <span class="co"># mean </span></code></pre></div>
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
   10.0    15.0    21.5    19.7    23.0    30.0 </code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">sd</span>(xExample)<span class="op">^</span><span class="dv">2</span>   <span class="co"># variance </span></code></pre></div>
<pre><code>[1] 34.45556</code></pre>
</div>
<div id="empirical-distribution-function" class="section level4">
<h4><span class="header-section-number">5.4.1.2</span> Empirical Distribution Function</h4>
<p>The graph below gives the empirical distribution function <code>xExample</code> dataset.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">PercentilesxExample &lt;-<span class="st"> </span><span class="kw">ecdf</span>(xExample)

###Empirical Distribution Function
<span class="kw">plot</span>(PercentilesxExample, <span class="dt">main=</span><span class="st">&quot;&quot;</span>,<span class="dt">xlab=</span><span class="st">&quot;x&quot;</span>)</code></pre></div>
<p><img src="R_for_Loss_Data_Analytics_files/figure-html/unnamed-chunk-65-1.png" width="672" style="display: block; margin: auto;" /></p>
</div>
<div id="quantiles" class="section level4">
<h4><span class="header-section-number">5.4.1.3</span> Quantiles</h4>
<p>The results below gives the quantiles.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">##quantiles 
<span class="kw">quantile</span>(xExample)</code></pre></div>
<pre><code>  0%  25%  50%  75% 100% 
10.0 15.0 21.5 23.0 30.0 </code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#quantiles : set you own probabilities</span>
<span class="kw">quantile</span>(xExample, <span class="dt">probs =</span> <span class="kw">seq</span>(<span class="dv">0</span>, <span class="dv">1</span>, <span class="fl">0.333333</span>))</code></pre></div>
<pre><code>      0% 33.3333% 66.6666% 99.9999% 
10.00000 15.00000 23.00000 29.99994 </code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#help(quantile)</span></code></pre></div>
</div>
<div id="density-estimators" class="section level4">
<h4><span class="header-section-number">5.4.1.4</span> Density Estimators</h4>
<p>The results below gives the density plots using the uniform kernel and triangular kernel.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">##density plot 
<span class="kw">plot</span>(<span class="kw">density</span>(xExample), <span class="dt">main=</span><span class="st">&quot;&quot;</span>, <span class="dt">xlab=</span><span class="st">&quot;x&quot;</span>)</code></pre></div>
<p><img src="R_for_Loss_Data_Analytics_files/figure-html/unnamed-chunk-67-1.png" width="672" style="display: block; margin: auto;" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">plot</span>(<span class="kw">density</span>(xExample, <span class="dt">bw=</span>.<span class="dv">33</span>), <span class="dt">main=</span><span class="st">&quot;&quot;</span>, <span class="dt">xlab=</span><span class="st">&quot;x&quot;</span>) <span class="co"># Change the bandwidth</span></code></pre></div>
<p><img src="R_for_Loss_Data_Analytics_files/figure-html/unnamed-chunk-67-2.png" width="672" style="display: block; margin: auto;" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">plot</span>(<span class="kw">density</span>(xExample, <span class="dt">kernel =</span> <span class="st">&quot;triangular&quot;</span>), <span class="dt">main=</span><span class="st">&quot;&quot;</span>, <span class="dt">xlab=</span><span class="st">&quot;x&quot;</span>) <span class="co"># Change the kernel</span></code></pre></div>
<p><img src="R_for_Loss_Data_Analytics_files/figure-html/unnamed-chunk-67-3.png" width="672" style="display: block; margin: auto;" /></p>
</div>
</div>
<div id="property-fund-data" class="section level3 tabset">
<h3><span class="header-section-number">5.4.2</span> Property Fund Data</h3>
<p>This section employs non-parametric estimation tools for model selection for the claims data of the Property Fund.</p>
<div id="empirical-distribution-function-of-property-fund" class="section level4">
<h4><span class="header-section-number">5.4.2.1</span> Empirical Distribution Function of Property fund</h4>
<p>The results below gives the empirical distribution function of the claims and claims in logarithmic units.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">ClaimLev &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;DATA/CLAIMLEVEL.csv&quot;</span>, <span class="dt">header=</span><span class="ot">TRUE</span>); <span class="kw">nrow</span>(ClaimLev); <span class="co"># 6258</span></code></pre></div>
<pre><code>[1] 6258</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">ClaimData&lt;-<span class="kw">subset</span>(ClaimLev,Year<span class="op">==</span><span class="dv">2010</span>);     <span class="co">#2010 subset </span>
##Empirical distribution function of Property fund
<span class="kw">par</span>(<span class="dt">mfrow=</span><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>))
Percentiles  &lt;-<span class="st"> </span><span class="kw">ecdf</span>(ClaimData<span class="op">$</span>Claim)
LogPercentiles  &lt;-<span class="st"> </span><span class="kw">ecdf</span>(<span class="kw">log</span>(ClaimData<span class="op">$</span>Claim))
<span class="kw">plot</span>(Percentiles,  <span class="dt">main=</span><span class="st">&quot;&quot;</span>, <span class="dt">xlab=</span><span class="st">&quot;Claims&quot;</span>)
<span class="kw">plot</span>(LogPercentiles, <span class="dt">main=</span><span class="st">&quot;&quot;</span>, <span class="dt">xlab=</span><span class="st">&quot;Logarithmic Claims&quot;</span>)</code></pre></div>
<p><img src="R_for_Loss_Data_Analytics_files/figure-html/unnamed-chunk-68-1.png" width="672" style="display: block; margin: auto;" /></p>
</div>
<div id="density-comparison" class="section level4">
<h4><span class="header-section-number">5.4.2.2</span> Density Comparison</h4>
<p>Shows a histogram (with shaded gray rectangles) of logarithmic property claims from 2010. The blue thick curve represents a Gaussian kernel density where the bandwidth was selected automatically using an ad hoc rule based on the sample size and volatility of the data.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#Density Comparison</span>
<span class="kw">hist</span>(<span class="kw">log</span>(ClaimData<span class="op">$</span>Claim), <span class="dt">main=</span><span class="st">&quot;&quot;</span>, <span class="dt">ylim=</span><span class="kw">c</span>(<span class="dv">0</span>,.<span class="dv">35</span>),<span class="dt">xlab=</span><span class="st">&quot;Log Expenditures&quot;</span>, <span class="dt">freq=</span><span class="ot">FALSE</span>, <span class="dt">col=</span><span class="st">&quot;lightgray&quot;</span>)
<span class="kw">lines</span>(<span class="kw">density</span>(<span class="kw">log</span>(ClaimData<span class="op">$</span>Claim)), <span class="dt">col=</span><span class="st">&quot;blue&quot;</span>,<span class="dt">lwd=</span><span class="fl">2.5</span>)
<span class="kw">lines</span>(<span class="kw">density</span>(<span class="kw">log</span>(ClaimData<span class="op">$</span>Claim), <span class="dt">bw=</span><span class="dv">1</span>), <span class="dt">col=</span><span class="st">&quot;green&quot;</span>)
<span class="kw">lines</span>(<span class="kw">density</span>(<span class="kw">log</span>(ClaimData<span class="op">$</span>Claim), <span class="dt">bw=</span>.<span class="dv">1</span>), <span class="dt">col=</span><span class="st">&quot;red&quot;</span>, <span class="dt">lty=</span><span class="dv">3</span>)</code></pre></div>
<p><img src="R_for_Loss_Data_Analytics_files/figure-html/unnamed-chunk-69-1.png" width="672" style="display: block; margin: auto;" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">density</span>(<span class="kw">log</span>(ClaimData<span class="op">$</span>Claim))<span class="op">$</span>bw   ##default bandwidth</code></pre></div>
<pre><code>[1] 0.3255908</code></pre>
</div>
</div>
<div id="nonparametric-estimation-tools-for-model-selection" class="section level3 tabset">
<h3><span class="header-section-number">5.4.3</span> Nonparametric Estimation Tools For Model Selection</h3>
<div id="fit-distributions-to-the-claims-data" class="section level4">
<h4><span class="header-section-number">5.4.3.1</span> Fit Distributions To The Claims Data</h4>
<p>The results below fits gamma and Pareto distribution to the claims data.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(MASS)
<span class="kw">library</span>(VGAM)
<span class="co"># Inference assuming a gamma distribution</span>
fit.gamma2 &lt;-<span class="st"> </span><span class="kw">glm</span>(Claim<span class="op">~</span><span class="dv">1</span>, <span class="dt">data=</span>ClaimData,<span class="dt">family=</span><span class="kw">Gamma</span>(<span class="dt">link=</span>log)) 
<span class="kw">summary</span>(fit.gamma2, <span class="dt">dispersion =</span> <span class="kw">gamma.dispersion</span>(fit.gamma2)) </code></pre></div>
<pre><code>
Call:
glm(formula = Claim ~ 1, family = Gamma(link = log), data = ClaimData)

Deviance Residuals: 
   Min      1Q  Median      3Q     Max  
-4.287  -2.258  -1.764  -1.178  30.926  

Coefficients:
            Estimate Std. Error z value Pr(&gt;|z|)    
(Intercept) 10.18952    0.04999   203.8   &lt;2e-16 ***
---
Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1

(Dispersion parameter for Gamma family taken to be 3.441204)

    Null deviance: 6569.1  on 1376  degrees of freedom
Residual deviance: 6569.1  on 1376  degrees of freedom
AIC: 28414

Number of Fisher Scoring iterations: 14</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">(theta&lt;-<span class="kw">exp</span>(<span class="kw">coef</span>(fit.gamma2))<span class="op">*</span><span class="kw">gamma.dispersion</span>(fit.gamma2)) <span class="co">#mu=theta/alpha</span></code></pre></div>
<pre><code>(Intercept) 
   91613.78 </code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">(alpha&lt;-<span class="dv">1</span><span class="op">/</span><span class="kw">gamma.dispersion</span>(fit.gamma2) )</code></pre></div>
<pre><code>[1] 0.2905959</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#  Inference assuming a Pareto Distribution</span>
fit.pareto &lt;-<span class="st"> </span><span class="kw">vglm</span>(Claim <span class="op">~</span><span class="st"> </span><span class="dv">1</span>, paretoII, <span class="dt">loc=</span><span class="dv">0</span>, <span class="dt">data =</span> ClaimData)
<span class="kw">summary</span>(fit.pareto)</code></pre></div>
<pre><code>
Call:
vglm(formula = Claim ~ 1, family = paretoII, data = ClaimData, 
    loc = 0)


Pearson residuals:
                Min      1Q Median     3Q   Max
loge(scale)  -6.332 -0.8289 0.1875 0.8832 1.174
loge(shape) -10.638  0.0946 0.4047 0.4842 0.513

Coefficients: 
                Estimate Std. Error z value Pr(&gt;|z|)    
(Intercept):1  7.7329210  0.0933332  82.853   &lt;2e-16 ***
(Intercept):2 -0.0008753  0.0538642  -0.016    0.987    
---
Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1

Number of linear predictors:  2 

Names of linear predictors: loge(scale), loge(shape)

Log-likelihood: -13404.64 on 2752 degrees of freedom

Number of iterations: 5 

No Hauck-Donner effect found in any of the estimates</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">head</span>(<span class="kw">fitted</span>(fit.pareto))</code></pre></div>
<pre><code>        [,1]
[1,] 2285.03
[2,] 2285.03
[3,] 2285.03
[4,] 2285.03
[5,] 2285.03
[6,] 2285.03</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">exp</span>(<span class="kw">coef</span>(fit.pareto))</code></pre></div>
<pre><code>(Intercept):1 (Intercept):2 
 2282.2590626     0.9991251 </code></pre>
</div>
<div id="graphical-comparison-of-distributions" class="section level4">
<h4><span class="header-section-number">5.4.3.2</span> Graphical Comparison of Distributions</h4>
<p>The graphs below reinforces the technique of overlaying graphs for comparison purposes using both the distribution function and density function. Pareto distribution provides a better fit.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Plotting the fit using densities (on a logarithmic scale)</span>
<span class="co"># None of these distributions is doing a great job....</span>
x &lt;-<span class="st"> </span><span class="kw">seq</span>(<span class="dv">0</span>,<span class="dv">15</span>,<span class="dt">by=</span><span class="fl">0.01</span>)

<span class="kw">par</span>(<span class="dt">mfrow=</span><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>))
LogPercentiles  &lt;-<span class="st"> </span><span class="kw">ecdf</span>(<span class="kw">log</span>(ClaimData<span class="op">$</span>Claim))
<span class="kw">plot</span>(LogPercentiles,  <span class="dt">main=</span><span class="st">&quot;&quot;</span>, <span class="dt">xlab=</span><span class="st">&quot;Claims&quot;</span>, <span class="dt">cex=</span><span class="fl">0.4</span>)
Fgamma_ex =<span class="st"> </span><span class="kw">pgamma</span>(<span class="kw">exp</span>(x), <span class="dt">shape =</span> alpha, <span class="dt">scale=</span>theta)
<span class="kw">lines</span>(x,Fgamma_ex,<span class="dt">col=</span><span class="st">&quot;blue&quot;</span>)
Fpareto_ex =<span class="st"> </span><span class="kw">pparetoII</span>(<span class="kw">exp</span>(x),<span class="dt">loc=</span><span class="dv">0</span>,<span class="dt">shape =</span> <span class="kw">exp</span>(<span class="kw">coef</span>(fit.pareto)[<span class="dv">2</span>]), <span class="dt">scale =</span> <span class="kw">exp</span>(<span class="kw">coef</span>(fit.pareto)[<span class="dv">1</span>]))
<span class="kw">lines</span>(x,Fpareto_ex,<span class="dt">col=</span><span class="st">&quot;purple&quot;</span>)
<span class="kw">legend</span>(<span class="st">&quot;bottomright&quot;</span>, <span class="kw">c</span>(<span class="st">&quot;log(claims)&quot;</span>, <span class="st">&quot;Gamma&quot;</span>,<span class="st">&quot;Pareto&quot;</span>), <span class="dt">lty=</span><span class="dv">1</span>, <span class="dt">cex=</span><span class="fl">0.6</span>,<span class="dt">col =</span> <span class="kw">c</span>(<span class="st">&quot;black&quot;</span>,<span class="st">&quot;blue&quot;</span>,<span class="st">&quot;purple&quot;</span>))

<span class="kw">plot</span>(<span class="kw">density</span>(<span class="kw">log</span>(ClaimData<span class="op">$</span>Claim)) ,<span class="dt">main=</span><span class="st">&quot;&quot;</span>, <span class="dt">xlab=</span><span class="st">&quot;Log Expenditures&quot;</span>)
fgamma_ex =<span class="st"> </span><span class="kw">dgamma</span>(<span class="kw">exp</span>(x), <span class="dt">shape =</span> alpha, <span class="dt">scale=</span>theta)<span class="op">*</span><span class="kw">exp</span>(x)
<span class="kw">lines</span>(x,fgamma_ex,<span class="dt">col=</span><span class="st">&quot;blue&quot;</span>)
fpareto_ex =<span class="st"> </span><span class="kw">dparetoII</span>(<span class="kw">exp</span>(x),<span class="dt">loc=</span><span class="dv">0</span>,<span class="dt">shape =</span> <span class="kw">exp</span>(<span class="kw">coef</span>(fit.pareto)[<span class="dv">2</span>]), <span class="dt">scale =</span> <span class="kw">exp</span>(<span class="kw">coef</span>(fit.pareto)[<span class="dv">1</span>]))<span class="op">*</span><span class="kw">exp</span>(x)
<span class="kw">lines</span>(x,fpareto_ex,<span class="dt">col=</span><span class="st">&quot;purple&quot;</span>)
<span class="kw">legend</span>(<span class="st">&quot;topright&quot;</span>, <span class="kw">c</span>(<span class="st">&quot;log(claims)&quot;</span>, <span class="st">&quot;Gamma&quot;</span>,<span class="st">&quot;Pareto&quot;</span>), <span class="dt">lty=</span><span class="dv">1</span>, <span class="dt">cex=</span><span class="fl">0.6</span>,<span class="dt">col =</span> <span class="kw">c</span>(<span class="st">&quot;black&quot;</span>,<span class="st">&quot;blue&quot;</span>,<span class="st">&quot;purple&quot;</span>))</code></pre></div>
<p><img src="R_for_Loss_Data_Analytics_files/figure-html/unnamed-chunk-71-1.png" width="672" style="display: block; margin: auto;" /></p>
</div>
<div id="p-p-plots" class="section level4">
<h4><span class="header-section-number">5.4.3.3</span> P-P Plots</h4>
<p>Shows <span class="math inline">\(pp\)</span> plots for the Property Fund data; the fitted gamma is on the left and the fitted Pareto is on the right. Pareto distribution provides a better fit again.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#  PP Plot</span>
<span class="kw">par</span>(<span class="dt">mfrow=</span><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>))
Fgamma_ex =<span class="st"> </span><span class="kw">pgamma</span>(ClaimData<span class="op">$</span>Claim, <span class="dt">shape =</span> alpha, <span class="dt">scale=</span>theta)
<span class="kw">plot</span>(<span class="kw">Percentiles</span>(ClaimData<span class="op">$</span>Claim),Fgamma_ex, <span class="dt">xlab=</span><span class="st">&quot;Empirical DF&quot;</span>, <span class="dt">ylab=</span><span class="st">&quot;Gamma DF&quot;</span>,<span class="dt">cex=</span><span class="fl">0.4</span>)
<span class="kw">abline</span>(<span class="dv">0</span>,<span class="dv">1</span>)
Fpareto_ex =<span class="st"> </span><span class="kw">pparetoII</span>(ClaimData<span class="op">$</span>Claim,<span class="dt">loc=</span><span class="dv">0</span>,<span class="dt">shape =</span> <span class="kw">exp</span>(<span class="kw">coef</span>(fit.pareto)[<span class="dv">2</span>]), <span class="dt">scale =</span> <span class="kw">exp</span>(<span class="kw">coef</span>(fit.pareto)[<span class="dv">1</span>]))
<span class="kw">plot</span>(<span class="kw">Percentiles</span>(ClaimData<span class="op">$</span>Claim),Fpareto_ex, <span class="dt">xlab=</span><span class="st">&quot;Empirical DF&quot;</span>, <span class="dt">ylab=</span><span class="st">&quot;Pareto DF&quot;</span>,<span class="dt">cex=</span><span class="fl">0.4</span>)
<span class="kw">abline</span>(<span class="dv">0</span>,<span class="dv">1</span>)</code></pre></div>
<p><img src="R_for_Loss_Data_Analytics_files/figure-html/unnamed-chunk-72-1.png" width="672" style="display: block; margin: auto;" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#dev.off()</span></code></pre></div>
</div>
<div id="q-q-plots" class="section level4">
<h4><span class="header-section-number">5.4.3.4</span> Q-Q Plots</h4>
<p>In the graphs below the quantiles are plotted on the original scale in the left-hand panels, on the log scale in the right-hand panel, to allow the analyst to see where a fitted distribution is deficient.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">##q-q plot
<span class="kw">par</span>(<span class="dt">mfrow=</span><span class="kw">c</span>(<span class="dv">2</span>, <span class="dv">2</span>))
xseq =<span class="st"> </span><span class="kw">seq</span>(<span class="fl">0.0001</span>, <span class="fl">0.9999</span>, <span class="dt">by=</span><span class="dv">1</span><span class="op">/</span><span class="kw">length</span>(ClaimData<span class="op">$</span>Claim))
empquant =<span class="st"> </span><span class="kw">quantile</span>(ClaimData<span class="op">$</span>Claim, xseq)
Gammaquant =<span class="st"> </span><span class="kw">qgamma</span>(xseq, <span class="dt">shape =</span> alpha, <span class="dt">scale=</span>theta)
<span class="kw">plot</span>(empquant, Gammaquant, <span class="dt">xlab=</span><span class="st">&quot;Empirical Quantile&quot;</span>, <span class="dt">ylab=</span><span class="st">&quot;Gamma Quantile&quot;</span>)
<span class="kw">abline</span>(<span class="dv">0</span>,<span class="dv">1</span>)
<span class="kw">plot</span>(<span class="kw">log</span>(empquant), <span class="kw">log</span>(Gammaquant), <span class="dt">xlab=</span><span class="st">&quot;Log Emp Quantile&quot;</span>, <span class="dt">ylab=</span><span class="st">&quot;Log Gamma Quantile&quot;</span>)
<span class="kw">abline</span>(<span class="dv">0</span>,<span class="dv">1</span>)
Paretoquant =<span class="st"> </span><span class="kw">qparetoII</span>(xseq,<span class="dt">loc=</span><span class="dv">0</span>,<span class="dt">shape =</span> <span class="kw">exp</span>(<span class="kw">coef</span>(fit.pareto)[<span class="dv">2</span>]), <span class="dt">scale =</span> <span class="kw">exp</span>(<span class="kw">coef</span>(fit.pareto)[<span class="dv">1</span>]))
<span class="kw">plot</span>(empquant, Paretoquant, <span class="dt">xlab=</span><span class="st">&quot;Empirical Quantile&quot;</span>, <span class="dt">ylab=</span><span class="st">&quot;Pareto Quantile&quot;</span>)
<span class="kw">abline</span>(<span class="dv">0</span>,<span class="dv">1</span>)
<span class="kw">plot</span>(<span class="kw">log</span>(empquant), <span class="kw">log</span>(Paretoquant), <span class="dt">xlab=</span><span class="st">&quot;Log Emp Quantile&quot;</span>, <span class="dt">ylab=</span><span class="st">&quot;Log Pareto Quantile&quot;</span>)
<span class="kw">abline</span>(<span class="dv">0</span>,<span class="dv">1</span>)</code></pre></div>
<p><img src="R_for_Loss_Data_Analytics_files/figure-html/unnamed-chunk-73-1.png" width="672" style="display: block; margin: auto;" /></p>
</div>
<div id="goodness-of-fit-statistics" class="section level4">
<h4><span class="header-section-number">5.4.3.5</span> Goodness of Fit Statistics</h4>
<p>For reporting results, it can be effective to supplement graphical displays with selected statistics that summarize model goodness of fit. The results below provides three commonly used goodness of fit statistics.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(goftest )
<span class="co">#Kolmogorov-Smirnov # the test statistic is &quot;D&quot;</span>
<span class="kw">ks.test</span>(ClaimData<span class="op">$</span>Claim, <span class="st">&quot;pgamma&quot;</span>, <span class="dt">shape =</span> alpha, <span class="dt">scale=</span>theta)</code></pre></div>
<pre><code>
    One-sample Kolmogorov-Smirnov test

data:  ClaimData$Claim
D = 0.26387, p-value &lt; 2.2e-16
alternative hypothesis: two-sided</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ks.test</span>(ClaimData<span class="op">$</span>Claim, <span class="st">&quot;pparetoII&quot;</span>,<span class="dt">loc=</span><span class="dv">0</span>,<span class="dt">shape =</span> <span class="kw">exp</span>(<span class="kw">coef</span>(fit.pareto)[<span class="dv">2</span>]), <span class="dt">scale =</span> <span class="kw">exp</span>(<span class="kw">coef</span>(fit.pareto)[<span class="dv">1</span>]))</code></pre></div>
<pre><code>
    One-sample Kolmogorov-Smirnov test

data:  ClaimData$Claim
D = 0.047824, p-value = 0.003677
alternative hypothesis: two-sided</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#Cramer-von Mises # the test statistic is &quot;omega2&quot;</span>
<span class="kw">cvm.test</span>(ClaimData<span class="op">$</span>Claim, <span class="st">&quot;pgamma&quot;</span>, <span class="dt">shape =</span> alpha, <span class="dt">scale=</span>theta)</code></pre></div>
<pre><code>
    Cramer-von Mises test of goodness-of-fit
    Null hypothesis: Gamma distribution
    with parameters shape = 0.290595934110839, scale =
    91613.779421033

data:  ClaimData$Claim
omega2 = 33.378, p-value = 2.549e-05</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">cvm.test</span>(ClaimData<span class="op">$</span>Claim, <span class="st">&quot;pparetoII&quot;</span>,<span class="dt">loc=</span><span class="dv">0</span>,<span class="dt">shape =</span> <span class="kw">exp</span>(<span class="kw">coef</span>(fit.pareto)[<span class="dv">2</span>]), <span class="dt">scale =</span> <span class="kw">exp</span>(<span class="kw">coef</span>(fit.pareto)[<span class="dv">1</span>]))</code></pre></div>
<pre><code>
    Cramer-von Mises test of goodness-of-fit
    Null hypothesis: distribution &#39;pparetoII&#39;
    with parameters shape = 0.999125131378519, scale =
    2282.25906257586

data:  ClaimData$Claim
omega2 = 0.38437, p-value = 0.07947</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#Anderson-Darling # the test statistic is &quot;An&quot;</span>
<span class="kw">ad.test</span>(ClaimData<span class="op">$</span>Claim, <span class="st">&quot;pgamma&quot;</span>, <span class="dt">shape =</span> alpha, <span class="dt">scale=</span>theta)</code></pre></div>
<pre><code>
    Anderson-Darling test of goodness-of-fit
    Null hypothesis: Gamma distribution
    with parameters shape = 0.290595934110839, scale =
    91613.779421033

data:  ClaimData$Claim
An = Inf, p-value = 4.357e-07</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ad.test</span>(ClaimData<span class="op">$</span>Claim, <span class="st">&quot;pparetoII&quot;</span>,<span class="dt">loc=</span><span class="dv">0</span>,<span class="dt">shape =</span> <span class="kw">exp</span>(<span class="kw">coef</span>(fit.pareto)[<span class="dv">2</span>]), <span class="dt">scale =</span> <span class="kw">exp</span>(<span class="kw">coef</span>(fit.pareto)[<span class="dv">1</span>]))</code></pre></div>
<pre><code>
    Anderson-Darling test of goodness-of-fit
    Null hypothesis: distribution &#39;pparetoII&#39;
    with parameters shape = 0.999125131378519, scale =
    2282.25906257586

data:  ClaimData$Claim
An = 4.1264, p-value = 0.007567</code></pre>
</div>
</div>
</div>
<div id="mle-for-grouped-data" class="section level2 tabset">
<h2><span class="header-section-number">5.5</span> MLE for Grouped Data</h2>
<div id="mle-for-grouped-data--soa-exam-c-276" class="section level3">
<h3><span class="header-section-number">5.5.1</span> MLE for Grouped Data- SOA Exam C # 276</h3>
<p>Losses follow the distribution function <span class="math inline">\(F(x)=1-(\theta/x),\quad x&gt;0\)</span>. A sample of 20 losses resulted in the following:</p>
<table>
<thead>
<tr class="header">
<th align="center">Interval</th>
<th align="center">Number of Losses</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">(0,10]</td>
<td align="center">9</td>
</tr>
<tr class="even">
<td align="center">(10,25]</td>
<td align="center">6</td>
</tr>
<tr class="odd">
<td align="center">(25,infinity)</td>
<td align="center">5</td>
</tr>
</tbody>
</table>
<p>Calculate the maximum likelihood estimate of <span class="math inline">\(\theta\)</span>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">##Log Likelihood function 
likgrp &lt;-<span class="st"> </span><span class="cf">function</span>(theta) {
  loglike &lt;-<span class="kw">log</span>(((<span class="dv">1</span><span class="op">-</span>(theta<span class="op">/</span><span class="dv">10</span>))<span class="op">^</span><span class="dv">9</span>)<span class="op">*</span>(((theta<span class="op">/</span><span class="dv">10</span>)<span class="op">-</span>(theta<span class="op">/</span><span class="dv">25</span>))<span class="op">^</span><span class="dv">6</span>)<span class="op">*</span><span class="st"> </span>(((theta<span class="op">/</span><span class="dv">25</span>))<span class="op">^</span><span class="dv">5</span>))
  <span class="kw">return</span>(<span class="op">-</span><span class="kw">sum</span>(loglike))
}
<span class="co">#  &quot;optim&quot; is a general purpose minimization function</span>
grplik &lt;-<span class="st"> </span><span class="kw">optim</span>(<span class="kw">c</span>(<span class="dv">1</span>),likgrp,<span class="dt">method=</span><span class="kw">c</span>(<span class="st">&quot;L-BFGS-B&quot;</span>),<span class="dt">hessian=</span><span class="ot">TRUE</span>)
<span class="co">#Estimates - Answer &quot;B&quot; on SoA Problem</span>
grplik<span class="op">$</span>par</code></pre></div>
<pre><code>[1] 5.5</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#standard error</span>
<span class="kw">sqrt</span>(<span class="kw">diag</span>(<span class="kw">solve</span>(grplik<span class="op">$</span>hessian)))</code></pre></div>
<pre><code>[1] 1.11243</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#t-statistics</span>
(<span class="dt">tstat =</span> grplik<span class="op">$</span>par<span class="op">/</span><span class="kw">sqrt</span>(<span class="kw">diag</span>(<span class="kw">solve</span>(grplik<span class="op">$</span>hessian))) )</code></pre></div>
<pre><code>[1] 4.944132</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#Plot of Negative Log-Likelihood function </span>
vllh =<span class="st"> </span><span class="kw">Vectorize</span>(likgrp,<span class="st">&quot;theta&quot;</span>)
theta=<span class="kw">seq</span>(<span class="dv">0</span>,<span class="dv">10</span>, <span class="dt">by=</span><span class="fl">0.01</span>)
<span class="kw">plot</span>(theta, <span class="kw">vllh</span>(theta), <span class="dt">pch=</span><span class="dv">16</span>, <span class="dt">main =</span><span class="st">&quot;Negative Log-Likelihood Function&quot;</span> , <span class="dt">cex=</span>.<span class="dv">25</span>, 
     <span class="dt">xlab=</span><span class="kw">expression</span>(theta), <span class="dt">ylab=</span><span class="kw">expression</span>(<span class="kw">paste</span>(<span class="st">&quot;L(&quot;</span>,theta,<span class="st">&quot;)&quot;</span>)))</code></pre></div>
<p><img src="R_for_Loss_Data_Analytics_files/figure-html/unnamed-chunk-75-1.png" width="672" style="display: block; margin: auto;" /></p>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="modeling-loss-severities.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="simulation.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"download": ["R for Loss Data Analytics.pdf", "R for Loss Data Analytics.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "";
    if (src === "" || src === "true") src = "https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
